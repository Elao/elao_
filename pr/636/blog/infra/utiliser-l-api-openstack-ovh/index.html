<!DOCTYPE html>
<html lang="fr" class="no-js">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Utiliser l&#039;API Openstack OVH</title>

        <!-- Favicon -->
        <link rel="apple-touch-icon" sizes="180x180" href="/elao_/pr/636/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/elao_/pr/636/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/elao_/pr/636/favicon-16x16.png">
        <link rel="manifest" href="/elao_/pr/636/site.webmanifest">
        <link rel="mask-icon" href="/elao_/pr/636/safari-pinned-tab.svg" color="#ff4344">
        <link rel="shortcut icon" href="/elao_/pr/636/favicon.ico">
        <meta name="msapplication-TileColor" content="#ff4344">
        <meta name="msapplication-config" content="/elao_/pr/636/browserconfig.xml">
        <meta name="theme-color" content="#ffffff">

                    <meta name="description" content="Préparer son environnement pour utiliser l&#039;API openstack d&#039;OVH, pré-requis et installation du client" />
            <link rel="canonical" href="https://elao.github.io/elao_/pr/636/blog/infra/utiliser-l-api-openstack-ovh" />

            <!-- Open Graph / Facebook -->
            <meta property="og:title" content="Utiliser l&#039;API Openstack OVH" />
            <meta property="og:locale" content="fr" />
            <meta property="og:description" content="Préparer son environnement pour utiliser l&#039;API openstack d&#039;OVH, pré-requis et installation du client" />
            <meta property="og:url" content="https://elao.github.io/elao_/pr/636/blog/infra/utiliser-l-api-openstack-ovh" />
            <meta property="og:site_name" content="elao_" />

                                        <meta property="og:image" content="https://elao.github.io/elao_/pr/636/%2E%2E/../resized/content/images/blog/thumbnails/openstack.png/c35bcdf50abac4558ffa4e148ed90408.png">
            
            <!-- Twitter -->
            <meta property="twitter:card" content="summary_large_image">
            <meta property="twitter:title" content="Utiliser l&#039;API Openstack OVH">
            <meta property="twitter:description" content="Préparer son environnement pour utiliser l&#039;API openstack d&#039;OVH, pré-requis et installation du client">
            <meta property="twitter:site" content="@elao">
            <meta property="twitter:creator" content="@elao">
                                        <meta property="twitter:image" content="https://elao.github.io/elao_/pr/636/%2E%2E/../resized/content/images/blog/thumbnails/openstack.png/acb00d4575cb18217bfe7a947dd9ed2b.png">
                            <link rel="alternate" type="application/rss+xml" href="/elao_/pr/636/blog/rss.xml" title="Le blog de l'équipe d'Elao" />
        
                <script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "NewsArticle",
    "headline": "Utiliser l'API Openstack OVH",
    "image": [
        "https://elao.github.io/elao_/pr/636/blog/infra/content/images/blog/thumbnails/openstack.png"
    ],
    "datePublished": "2016-12-16T00:00:00+00:00",
    "dateModified": "2016-12-16T00:00:00+00:00",
    "author": [
        {
            "@type": "Person",
            "name": "Guewen Faivre",
            "url": "https://elao.github.io/elao_/pr/636/equipe/gfaivre"
        }
    ],
    "keywords": [
        "Ovh",
        "Openstack",
        "Docker",
        "Infra",
        "Api"
    ]
}
    </script>
    
                            <meta name="robots" content="noindex" />
        
        <script>
                        document.querySelector('html').classList.remove('no-js');
        </script>

                    <link rel="stylesheet" href="/elao_/pr/636/build/app.d2114747.css">
        
                        <script src="/elao_/pr/636/build/runtime.2edec85f.js" defer></script><script src="/elao_/pr/636/build/552.3082ae9c.js" defer></script><script src="/elao_/pr/636/build/769.7dfbbe52.js" defer></script><script src="/elao_/pr/636/build/app.d906f729.js" defer></script>

                    

    <script src="https://platform.twitter.com/widgets.js"></script>
    <script async defer src="//platform.instagram.com/en_US/embeds.js"></script>

    <script>
        window.onload = (function(){
            var tweets = document.querySelectorAll('.tweet-container');
            tweets.forEach(function(tweet) {
                // https://developer.twitter.com/en/docs/twitter-for-websites/embedded-tweets/guides/embedded-tweet-parameter-reference
                twttr.widgets.createTweet(tweet.getAttribute('data-tweet-id'), tweet, {
                    conversation: 'none',
                    cards: 'hidden',
                    theme: 'light',
                    lang: 'fr',
                    align: 'center',
                    width: 550, // default
                    dnt: true,
                })
            })
        });
    </script>

        <!-- S.E.E. -->
        <meta name="see" content="&#x5B;&quot;&#x5C;&#x2F;elao_&#x5C;&#x2F;pr&#x5C;&#x2F;636&#x5C;&#x2F;build&#x5C;&#x2F;see.ace7bf9f.js&quot;&#x5D;">
        <meta name="see_style" content="&#x5B;&quot;&#x5C;&#x2F;elao_&#x5C;&#x2F;pr&#x5C;&#x2F;636&#x5C;&#x2F;build&#x5C;&#x2F;see.d77e78f8.css&quot;&#x5D;">
    </head>
    <body
        data-controller="swup-plugins symfony--ux-swup--swup swup-matomo" data-symfony--ux-swup--swup-containers-value="&#x5B;&quot;&#x23;main&quot;,&quot;&#x23;nav&quot;&#x5D;" data-symfony--ux-swup--swup-cache-value="true" data-symfony--ux-swup--swup-animate-history-browsing-value="true" data-symfony--ux-swup--swup-debug-value="false" data-symfony--ux-swup--swup-link-selector-value="a&#x5B;href&#x5E;&#x3D;&quot;https&#x3A;&#x2F;&#x2F;elao.github.io&#x2F;elao_&#x2F;pr&#x2F;636&quot;&#x5D;&#x3A;not&#x28;&#x5B;data-no-swup&#x5D;&#x29;&#x3A;not&#x28;&#x5B;target&#x3D;&quot;_blank&quot;&#x5D;&#x29;&#x3A;not&#x28;a&#x5B;href&#x5E;&#x3D;&quot;https&#x3A;&#x2F;&#x2F;elao.github.io&#x2F;elao_&#x2F;pr&#x2F;636&#x2F;_profiler&quot;&#x5D;&#x29;,a&#x5B;href&#x5E;&#x3D;&quot;&#x2F;&quot;&#x5D;&#x3A;not&#x28;&#x5B;data-no-swup&#x5D;&#x29;&#x3A;not&#x28;&#x5B;target&#x3D;&quot;_blank&quot;&#x5D;&#x29;&#x3A;not&#x28;a&#x5B;href&#x5E;&#x3D;&quot;https&#x3A;&#x2F;&#x2F;elao.github.io&#x2F;elao_&#x2F;pr&#x2F;636&#x2F;_profiler&quot;&#x5D;&#x29;" data-swup-matomo-enabled-value="false">
                    <header id="nav" class="header">
                <div class="container">
                    <!--
                        Todo :
                        - only on homepage : on scroll .logo.logo--animated becomes .logo.logo--animated.logo--active (triggers its animation)
                     -->
                    <a href="/elao_/pr/636/">
                        <span class="screen-reader">Utiliser l&#039;API Openstack OVH</span>
                                                    <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 300 100" class="logo logo--animated">
                                <path d="M61.6,61.6H19.7C21,69,24.8,72.2,32.6,72.2c5.9,0,8.8-1.9,11.7-7.8l16.1,6.9C56.2,82,46.9,87.8,32.1,87.8
                                    c-19.1,0-32-12.6-32-31.6c0-19.5,12.6-32.6,31.4-32.6c18.1,0,30.3,12.6,30.3,31.6C61.7,57.2,61.7,58.9,61.6,61.6z M19.6,49.3h23.6
                                    c-0.2-7.9-4.1-10.9-11.3-10.9S20.7,41.8,19.6,49.3z"/>
                                <path d="M71.2,0.1H90v86.5H71.2V0.1z"/>
                                <path d="M166.1,24.7v61.8h-18.8V72.7c-3.5,9.8-10.5,15.1-20.4,15.1c-17.7,0-27.4-12.9-27.4-32
                                    c0-19.4,9.3-32.2,26.2-32.2c10.5,0,18,5.4,21.6,15.6V24.7H166.1z M147.9,55.7c0-10.4-4.8-15.2-15.1-15.2c-9.9,0-14.6,4.8-14.6,15.2
                                    c0,10.1,4.7,14.9,14.6,14.9C143.1,70.7,147.9,65.9,147.9,55.7L147.9,55.7z"/>
                                <path d="M242.8,55.8c0,19.9-15.3,32-33.6,32s-33.6-12.1-33.6-32s15.3-32.2,33.6-32.2S242.8,35.8,242.8,55.8z M224,55.8
                                    c0-10.4-4.7-15.2-14.8-15.2c-10.1,0-14.8,4.8-14.8,15.2c0,10.1,4.7,14.9,14.8,14.9S224,65.9,224,55.8L224,55.8z"/>
                                <rect x="243.1" y="86.5" width="56.7" height="15"/>
                            </svg>
                                            </a>

                                            <!-- Desktop nav -->
                        <nav class="nav">
                            <ul>
                                                                    <li class="nav__item ">
                                        <a href="/elao_/pr/636/nos-services/">
                                                                                        <span>Services</span>
                                        </a>
                                    </li>
                                                                    <li class="nav__item ">
                                        <a href="/elao_/pr/636/demarche">
                                                                                        <span>Démarche</span>
                                        </a>
                                    </li>
                                                                    <li class="nav__item ">
                                        <a href="/elao_/pr/636/etudes-de-cas">
                                                                                        <span>Études de cas</span>
                                        </a>
                                    </li>
                                                                    <li class="nav__item ">
                                        <a href="/elao_/pr/636/nos-valeurs">
                                                                                        <span>Valeurs</span>
                                        </a>
                                    </li>
                                                                    <li class="nav__item ">
                                        <a href="/elao_/pr/636/equipe">
                                                                                        <span>L&#039;équipe</span>
                                        </a>
                                    </li>
                                                                    <li class="nav__item nav__item--active">
                                        <a href="/elao_/pr/636/blog">
                                                                                        <span>Blog</span>
                                        </a>
                                    </li>
                                                                    <li class="nav__item ">
                                        <a href="/elao_/pr/636/contact">
                                                                                            <i class="icon icon--contact" aria-hidden="true"></i>
                                                                                        <span>Contact</span>
                                        </a>
                                    </li>
                                                            </ul>
                        </nav>
                    
                                            <!-- Mobile nav -->
                        <nav class="nav-mobile" data-controller="toggle">
                            <div class="nav-mobile__header">
                                <a href="/elao_/pr/636/">
                                                                <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 300 100" class="logo logo--animated">
                                <path d="M61.6,61.6H19.7C21,69,24.8,72.2,32.6,72.2c5.9,0,8.8-1.9,11.7-7.8l16.1,6.9C56.2,82,46.9,87.8,32.1,87.8
                                    c-19.1,0-32-12.6-32-31.6c0-19.5,12.6-32.6,31.4-32.6c18.1,0,30.3,12.6,30.3,31.6C61.7,57.2,61.7,58.9,61.6,61.6z M19.6,49.3h23.6
                                    c-0.2-7.9-4.1-10.9-11.3-10.9S20.7,41.8,19.6,49.3z"/>
                                <path d="M71.2,0.1H90v86.5H71.2V0.1z"/>
                                <path d="M166.1,24.7v61.8h-18.8V72.7c-3.5,9.8-10.5,15.1-20.4,15.1c-17.7,0-27.4-12.9-27.4-32
                                    c0-19.4,9.3-32.2,26.2-32.2c10.5,0,18,5.4,21.6,15.6V24.7H166.1z M147.9,55.7c0-10.4-4.8-15.2-15.1-15.2c-9.9,0-14.6,4.8-14.6,15.2
                                    c0,10.1,4.7,14.9,14.6,14.9C143.1,70.7,147.9,65.9,147.9,55.7L147.9,55.7z"/>
                                <path d="M242.8,55.8c0,19.9-15.3,32-33.6,32s-33.6-12.1-33.6-32s15.3-32.2,33.6-32.2S242.8,35.8,242.8,55.8z M224,55.8
                                    c0-10.4-4.7-15.2-14.8-15.2c-10.1,0-14.8,4.8-14.8,15.2c0,10.1,4.7,14.9,14.8,14.9S224,65.9,224,55.8L224,55.8z"/>
                                <rect x="243.1" y="86.5" width="56.7" height="15"/>
                            </svg>
                        
                                </a>
                                <button class="nav-toggle nav-toggle--close">
                                    <i class="icon icon--close" aria-hidden="true"></i>
                                    <span class="screen-reader">Fermer le menu</span>
                                </button>
                            </div>
                            <ul>
                                                                    <li class="nav-mobile__item  ">
                                        <a href="/elao_/pr/636/nos-services/">
                                                                                        <span>Services</span>
                                        </a>
                                    </li>
                                                                    <li class="nav-mobile__item  ">
                                        <a href="/elao_/pr/636/demarche">
                                                                                        <span>Démarche</span>
                                        </a>
                                    </li>
                                                                    <li class="nav-mobile__item  ">
                                        <a href="/elao_/pr/636/etudes-de-cas">
                                                                                        <span>Études de cas</span>
                                        </a>
                                    </li>
                                                                    <li class="nav-mobile__item  ">
                                        <a href="/elao_/pr/636/nos-valeurs">
                                                                                        <span>Valeurs</span>
                                        </a>
                                    </li>
                                                                    <li class="nav-mobile__item  ">
                                        <a href="/elao_/pr/636/equipe">
                                                                                        <span>L&#039;équipe</span>
                                        </a>
                                    </li>
                                                                    <li class="nav-mobile__item nav-mobile__item--active ">
                                        <a href="/elao_/pr/636/blog">
                                                                                        <span>Blog</span>
                                        </a>
                                    </li>
                                                                    <li class="nav-mobile__item  nav-mobile__item--large">
                                        <a href="/elao_/pr/636/contact">
                                                                                            <i class="icon icon--contact" aria-hidden="true"></i>
                                                                                        <span>Contact</span>
                                        </a>
                                    </li>
                                                            </ul>
                        </nav>
                        <button class="nav-toggle nav-toggle--open">
                            <i class="icon icon--hamburger" aria-hidden="true"></i>
                            <span class="screen-reader">Ouvrir le menu</span>
                        </button>
                                    </div>
            </header>
                <main id="main">
                <div class="container">
                                <ol class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
            <li class="breadcrumb__item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
            <a itemprop="item" href="/elao_/pr/636/">
                <span itemprop="name">Accueil</span>
            </a>
            <meta itemprop="position" content="1" />
        </li>        <li class="breadcrumb__item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
            <a itemprop="item" href="/elao_/pr/636/blog">
                <span itemprop="name">Blog</span>
            </a>
            <meta itemprop="position" content="2" />
        </li>        <li class="breadcrumb__item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
            <a itemprop="item" href="/elao_/pr/636/blog/infra">
                <span itemprop="name">Infra</span>
            </a>
            <meta itemprop="position" content="3" />
        </li>        <li class="breadcrumb__item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
            <a itemprop="item" href="#">
                <span itemprop="name">Utiliser l&#039;API Openstack OVH</span>
            </a>
            <meta itemprop="position" content="4" />
        </li></ol>

        
        <div class="article-banner">
            <div
                class="article-banner__cover"
                style="background: #f1f1f1 url('/elao_/pr/636/%2E%2E/../resized/content/images/blog/headers/facade.jpg/4684ea841a767f16fc546797fbd11d2a.jpg');
    background: #f1f1f1 -webkit-image-set(
        url('/elao_/pr/636/%2E%2E/../resized/content/images/blog/headers/facade.jpg/4684ea841a767f16fc546797fbd11d2a.jpg') 1x,
        url('/elao_/pr/636/%2E%2E/../resized/content/images/blog/headers/facade.jpg/8ea22bd9092d8301b79ca9e6d6ba1961.jpg') 2x
    );
    background: #f1f1f1 -moz-image-set(
        url('/elao_/pr/636/%2E%2E/../resized/content/images/blog/headers/facade.jpg/4684ea841a767f16fc546797fbd11d2a.jpg') 1x,
        url('/elao_/pr/636/%2E%2E/../resized/content/images/blog/headers/facade.jpg/8ea22bd9092d8301b79ca9e6d6ba1961.jpg') 2x
    );
    background: #f1f1f1 -ms-image-set(
        url('/elao_/pr/636/%2E%2E/../resized/content/images/blog/headers/facade.jpg/4684ea841a767f16fc546797fbd11d2a.jpg') 1x,
        url('/elao_/pr/636/%2E%2E/../resized/content/images/blog/headers/facade.jpg/8ea22bd9092d8301b79ca9e6d6ba1961.jpg') 2x
    );
    background: #f1f1f1 image-set(
        url('/elao_/pr/636/%2E%2E/../resized/content/images/blog/headers/facade.jpg/4684ea841a767f16fc546797fbd11d2a.jpg') 1x,
        url('/elao_/pr/636/%2E%2E/../resized/content/images/blog/headers/facade.jpg/8ea22bd9092d8301b79ca9e6d6ba1961.jpg') 2x
    );"
                data-aos="fade-down"
            ></div>

            <div class="article-info" data-aos="zoom-in">
                                                    <div class="article-author ">
                        <div class="article-author__image">
                                                            <a href="/elao_/pr/636/blog/auteur/gfaivre">
                                    <img     src="/elao_/pr/636/%2E%2E/../resized/content/images/members/avatars/gfaivre.jpg/0b15d32360625605c83c974bf168637b.jpg"
    srcset="
        /elao_/pr/636/%2E%2E/../resized/content/images/members/avatars/gfaivre.jpg/0b15d32360625605c83c974bf168637b.jpg 1x,
        /elao_/pr/636/%2E%2E/../resized/content/images/members/avatars/gfaivre.jpg/f804161347eed9c67c0f2c20a4f1fc65.jpg 2x
    "
 />
                                </a>
                                                    </div>
                        <span class="article-author__info">
                            Écrit par
                                                            <a href="/elao_/pr/636/blog/auteur/gfaivre">
                                    <strong>Guewen Faivre</strong>
                                </a>
                                                    </span>
                    </div>
                                <div class="article-info__date">
                    <span>Publication <strong>16 décembre 2016</strong></span>
                                                        </div>
            </div>

            <div class="article-header" data-aos="zoom-in-up">
                <h1>Utiliser l&#039;API Openstack OVH</h1>
                <p>Préparer son environnement pour utiliser l&#039;API openstack d&#039;OVH, pré-requis et installation du client</p>
                <ul class="article-tag-list">
                                            <li class="article-tag-list__item">
                            <a href="/elao_/pr/636/blog/tag/ovh" rel="nofollow">#Ovh</a>
                        </li>
                                            <li class="article-tag-list__item">
                            <a href="/elao_/pr/636/blog/tag/openstack" rel="nofollow">#Openstack</a>
                        </li>
                                            <li class="article-tag-list__item">
                            <a href="/elao_/pr/636/blog/tag/docker" rel="nofollow">#Docker</a>
                        </li>
                                            <li class="article-tag-list__item">
                            <a href="/elao_/pr/636/blog/tag/infra" rel="nofollow">#Infra</a>
                        </li>
                                            <li class="article-tag-list__item">
                            <a href="/elao_/pr/636/blog/tag/api" rel="nofollow">#Api</a>
                        </li>
                                    </ul>
            </div>
        </div>

                    <ol class="table-of-content" data-aos="fade-up">
                                    <li class="table-of-content__item">
                        <a href="#pre-requis">Pré-requis</a>

                                            </li>
                                    <li class="table-of-content__item">
                        <a href="#configuration-authentification">Configuration/Authentification</a>

                                            </li>
                                    <li class="table-of-content__item">
                        <a href="#connexion">Connexion</a>

                                            </li>
                                    <li class="table-of-content__item">
                        <a href="#zones-geographiques">Zones géographiques</a>

                                            </li>
                            </ol>
        
        <div class="article-content">
            <main class="article-content__main">

                
                
                <p>OVH propose depuis quelque temps déjà d'accéder à certaines ressources de votre infrastructure à travers l'API Openstack.
Bien que pas mal d'opérations soient réalisables grâce au manager, certaines d'entre elles, un peu poussées, ne sont réalisables qu'à travers l'<a href="https://api.ovh.com/" target="_blank">API OVH</a> et/ou l'API OpenStack qui est d'ailleurs partiellement exploitée par le dashboard <a href="https://horizon.cloud.ovh.net/" target="_blank">Horizon</a>.</p>
<p>Nous allons voir en détails l'installation d'un environnement client pour exploiter l'API Openstack en console.</p>
<h2 id="pre-requis" class="anchor-title"><a href="#pre-requis">Pré-requis</a></h2>
<ul>
<li>Python 2.7 ou supérieur</li>
<li>Le paquet «SetupTools»</li>
<li>pip</li>
</ul>
<p>Si vous ne souhaitez pas faire l'installation sur votre machine de travail, vous trouverez <a href="https://hub.docker.com/r/manala/openstack-api-client-debian/" target="_blank">ici</a>, un conteneur Docker prêt à l'utilisation.
Je prends le devant des Trolls, oui Docker n'a pas été conçu pour ça mais pour une fois qu'on lui trouve une utilité pratique... :D</p>
<p><strong>Sinon</strong> voici les étapes à suivre (La machine utilisée est une Debian 8, je vous laisse le soin de corriger le nom des paquets qui pouraient différer d'une distribution à une autre.):</p>
<pre class="code-multiline"><code id="70c0554ebee4621f46005fa9aef6ee86">apt-get --no-install-recommends -y install vim python python-setuptools python-dev python-pip libyaml-dev gcc g++</code></pre>
<p>Une fois que l'environnement est prêt il nous reste à installer le client OpenStack:</p>
<pre class="code-multiline"><code id="682abf72157196c482faa9c4bea9147c">pip install python-openstackclient</code></pre>
<p>Il est à noter que depuis peu l'ensemble des clients a été regroupé dans un seul. Auparavant chaque client avait son «domaine de compétences».
Toutefois, pour certaines opérations, il peut être nécessaire de passer par les anciens clients. Leur installation est assez simple et se fait également à l'aide de <strong><code class="code-inline" id="62ad1c2a46c5298f3e2c95d3babf8d0c">pip</code></strong>:</p>
<pre class="code-multiline"><code id="1e9477a5afe48d6b526e32a653ead860">pip install python-novaclient</code></pre>
<p><strong>Pour rappel:</strong></p>
<ul>
<li><code class="code-inline" id="923b3cefc3439b9a63a350da2ff1206c">barbican</code> - Key Manager Service API</li>
<li><code class="code-inline" id="4161ff0e1519a6226d1117b428fc831a">ceilometer</code> - Telemetry API</li>
<li><code class="code-inline" id="8f795e66db9f792f7eb19a8b4e39b2bc">cinder</code> - Block Storage API and extensions</li>
<li><code class="code-inline" id="32aa941aa956d090981742fddc7f437d">cloudkitty</code> - Rating service API</li>
<li><code class="code-inline" id="18142f8592a9647431c1159e16d0de9e">designate</code> - DNS service API</li>
<li><code class="code-inline" id="7c4e4db5ec9a751ee4bbfba997f0a3a7">fuel</code> - Deployment service API</li>
<li><code class="code-inline" id="ffb5ff6434d711e517b939faf00d331c">glance</code> - Image service API</li>
<li><code class="code-inline" id="f1704144ad37b2fb135e2039d222135e">gnocchi</code> - Telemetry API v3</li>
<li><code class="code-inline" id="5d6eb4f1340c4c66e3adff7fdab1c931">heat</code> - Orchestration API</li>
<li><code class="code-inline" id="368dc60082c8b47e697826b282b94e3d">magnum</code> - Container Infrastructure Management service API</li>
<li><code class="code-inline" id="198432e80d9cf8ffc5130f652485fca6">manila</code> - Shared file systems API</li>
<li><code class="code-inline" id="5ab1795867ce6c21299e926944939982">mistral</code> - Workflow service API</li>
<li><code class="code-inline" id="b67a599979f964a76be9824e0b80018a">monasca</code> - Monitoring API</li>
<li><code class="code-inline" id="2c8db3bfae7868413988d7759557f5c2">murano</code> - Application catalog API</li>
<li><code class="code-inline" id="e900a9020bbb5db562fe3b148873a78d">neutron</code> - Networking API</li>
<li><code class="code-inline" id="1a9c91f6e0310d4f55b7ee7f22c2c9df">nova</code> - Compute API and extensions</li>
<li><code class="code-inline" id="46840d96d9c8e829720876d9e5484acf">sahara</code> - Data Processing API</li>
<li><code class="code-inline" id="e3a3325113108fdb22f5f6c2c854499f">senlin</code> - Clustering service API</li>
<li><code class="code-inline" id="818056dbd7e201243206b9c7cd88481c">swift</code> - Object Storage API</li>
<li><code class="code-inline" id="21c47a94df5344fe00f4894c770d0dcf">trove</code> - Database service API</li>
</ul>
<h2 id="configuration-authentification" class="anchor-title"><a href="#configuration-authentification">Configuration/Authentification</a></h2>
<p>Avant de pouvoir exploiter pleinement l'environnement que nous venons d'installer il nous faut récupérer nos autorisations à partir du manager OVH (dans la partie Cloud plus précisément).
Vous trouverez au niveau de vos différents environnements une entrée «OpenStack» qui vous permettra:</p>
<ul>
<li>de générer un compte utilisateur</li>
<li>de vous rendre sur l'interface Horizon</li>
<li>de récupérer un fichier préconfiguré avec vos identifiants</li>
<li>de (re)générer un token OpenStack</li>
</ul>
<div class="text-center">
    <img src="/elao_/pr/636/%2E%2E/../resized/content/images/blog/2016/ovh-openstack/ovh-os.png/56a70ba8362a391fe5b15c421bbb7ec0.png" alt="API OpenStack OVH" srcset="/elao_/pr/636/%2E%2E/../resized/content/images/blog/2016/ovh-openstack/ovh-os.png/56a70ba8362a391fe5b15c421bbb7ec0.png 1x,
/elao_/pr/636/%2E%2E/../resized/content/images/blog/2016/ovh-openstack/ovh-os.png/f887feb31f68abc6bce0216358841d8d.png 2x," id="api-openstack-ovh">
</div>
<p>Une fois que vous avez créé un utilisateur, récupérez votre fichier de configuration (il s'agit en fait d'un simple fichier qui exporte les variables utilisées par le client OpenStack pour établir sa connexion) et «sourcez» le:</p>
<pre class="code-multiline"><code id="d920a4cfb0591ee3959231b93a3c7746">. ./openrc.sh</code></pre>
<p>Les variables suivantes devraient être initialisées:</p>
<ul>
<li><code class="code-inline" id="5f9a3a9abf38615d84184431d020b221">OS_AUTH_URL</code></li>
<li><code class="code-inline" id="c212a666ce8159182978e88e4234da01">OS_TENANT_ID</code></li>
<li><code class="code-inline" id="ab904376487f9adadc232e6e3e6d3f99">OS_TENANT_NAME</code></li>
<li><code class="code-inline" id="b583d36884a35e7a5580cece5f5fef0c">OS_USERNAME</code></li>
<li><code class="code-inline" id="babeb4453a9883e74df057a623c87f5f">OS_PASSWORD</code></li>
</ul>
<h2 id="connexion" class="anchor-title"><a href="#connexion">Connexion</a></h2>
<p>Une fois les étapes précédentes terminées vous devriez être capable de vous connecter avec le client. Nous pouvons vérifier le bon fonctionnement de l'environnement en listant nos conteneurs par exemple:</p>
<pre class="code-multiline"><code id="770241b4fc888779066e534e9f4a9a07">root@97cbc23bcd97:/srv# openstack server list
+--------------------------------------+----------+--------+-------------------------+
| ID                                   | Name     | Status | Networks                |
+--------------------------------------+----------+--------+-------------------------+
| 73fv7fb4-1234-4fff-9a51-eb4e5fbf654a | GW_XXXXX | ACTIVE | Ext-Net=XXX.XXX.XXX.XXX |
| 73fv7fb4-1234-4fff-9a51-eb4e5fbf654a | GW_XXXXX | ACTIVE | Ext-Net=XXX.XXX.XXX.XXX |
+--------------------------------------+----------+--------+-------------------------+</code></pre>
<h2 id="zones-geographiques" class="anchor-title"><a href="#zones-geographiques">Zones géographiques</a></h2>
<p>Certains l'auront remarqué, il existe une dernière variable d'importance dans le fichier de configuration. La variable <code class="code-inline" id="c2d4664376a4d7b31d5463553f03f998">OS_REGION_NAME</code> permet, en effet, de spécifier à quel DC vous souhaitez vous connecter:</p>
<ul>
<li>Roubaix (RBX1)</li>
<li>Gravelines (GRA1)</li>
<li>ou Beauharnois (BHS1)</li>
</ul>
<p>Elle est d'importance car pour chacun de ces DC vous ne verrez (et c'est logique) que les instances qui lui sont rattachées.</p>
<hr>
<p>Une bonne partie de l'API openstack vous est à présent accessible et couvrira les manques fonctionnels du manager ainsi que les carences de l'API OVH pour la configuration d'environnements un tant soit peu complexes.
L'utilisation des différents clients s'avère, de prime abord, peu aisée mais on s'y fait vite.</p>
<p>Comme à l'accoutumé cet article est ouvert à toutes critiques, suggestions et/ou corrections.</p>
                                                                </main>
            <aside class="article-content__aside">
                            </aside>
        </div>

        <div class="article-footer" data-aos="fade-in">
                                                <div class="article-author">
                        <div class="article-author__image">
                            <a href="/elao_/pr/636/blog/auteur/gfaivre">
                                <img     src="/elao_/pr/636/%2E%2E/../resized/content/images/members/avatars/gfaivre.jpg/0b15d32360625605c83c974bf168637b.jpg"
    srcset="
        /elao_/pr/636/%2E%2E/../resized/content/images/members/avatars/gfaivre.jpg/0b15d32360625605c83c974bf168637b.jpg 1x,
        /elao_/pr/636/%2E%2E/../resized/content/images/members/avatars/gfaivre.jpg/f804161347eed9c67c0f2c20a4f1fc65.jpg 2x
    "
 />
                            </a>
                        </div>
                        <span class="article-author__info">
                            Écrit par
                            <a href="/elao_/pr/636/blog/auteur/gfaivre">
                                <strong>Guewen Faivre</strong>
                            </a>
                        </span>

                        <div class="article-author__social">
                                                            <a href="https://twitter.com/guewen_faivre" class="social social--small">
                                    <i class="icon icon--x" aria-hidden="true"></i>
                                    <span class="screen-reader">Compte Twitter de Guewen Faivre</span>
                                </a>
                                                                                        <a href="https://github.com/gfaivre " class="social social--small">
                                    <i class="icon icon--github" aria-hidden="true"></i>
                                    <span class="screen-reader">Compte github de Guewen Faivre</span>
                                </a>
                                                                                        <a href="http://www.elao.com" class="social social--small">
                                    <i class="icon icon--website" aria-hidden="true"></i>
                                    <span class="screen-reader">Site personnel de Guewen Faivre</span>
                                </a>
                                                    </div>
                    </div>
                                    </div>

                <div class="bricks">
            
                            <div class="brick-contribute">
                    <p>
                        Une typo ?
                        <a href="https://github.com/Elao/elao_/edit/lazy/upgrade_to_php_83/content/blog/infra/utiliser-l-api-openstack-ovh.md/" target="_blank" class="animated-link animated-link--light">
                            Modifier cet article sur Github
                        </a>
                    </p>
                </div>
                    </div>
            </div>
        </main>
                    
<footer class="footer">
    <div class="container">
        <section class="footer__links">
            <p class="h1">
                elao
                <span>développe</span>
                <span>du lien</span>
            </p>
            <div class="links">
                                    <ul>
                                                    <li>
                                <a href="/elao_/pr/636/nos-services/" >Services</a>
                            </li>
                                                    <li>
                                <a href="/elao_/pr/636/demarche" >Démarche</a>
                            </li>
                                                    <li>
                                <a href="/elao_/pr/636/etudes-de-cas" >Études de cas</a>
                            </li>
                                            </ul>
                                    <ul>
                                                    <li>
                                <a href="/elao_/pr/636/nos-valeurs" >Valeurs</a>
                            </li>
                                                    <li>
                                <a href="/elao_/pr/636/equipe" >L&#039;équipe</a>
                            </li>
                                                    <li>
                                <a href="/elao_/pr/636/blog" >Blog</a>
                            </li>
                                                    <li>
                                <a href="/elao_/pr/636/blog/rss.xml"  data-no-swup="data-no-swup">RSS</a>
                            </li>
                                            </ul>
                                <ul>
                    <li>
                                                <a href="/elao_/pr/636/recrutement">
                            Nous recrutons
                                                            <span class="bullet">2</span>
                                                    </a>
                    </li>
                    <li>
                        <a href="/elao_/pr/636/glossaire/">Glossaire 🧐</a>
                    </li>
                    <li>
                        <a href="/elao_/pr/636/elaomojis">Elaomojis 🎉</a>
                    </li>
                </ul>
            </div>
            <div class="socials">
                <ul>
                    <li>
                        <a href="https://github.com/elao" target="_blank">
                            <i class="icon icon--github"></i>
                            Github
                        </a>
                    </li>
                    <li>
                        <a href="https://twitter.com/elao" target="_blank">
                            <i class="icon icon--x"></i>
                            Twitter
                        </a>
                    </li>
                    <li>
                        <a href="https://www.linkedin.com/company/elao/mycompany/" target="_blank">
                            <i class="icon icon--linkedin"></i>
                            Linkedin
                        </a>
                    </li>
                </ul>
            </div>
            <div class="contacts">
                <ul>
                    <li>
                        <a href="/elao_/pr/636/contact">Contact</a>
                    </li>
                    <li>
                        <a href="tel:04 82 53 37 19">04 82 53 37 19</a>
                    </li>
                    <li>
                        <a href="mailto:contact@elao.com">contact@elao.com</a>
                    </li>
                    <li>34 rue Jean Broquin</li>
                    <li>69006 Lyon</li>
                </ul>
            </div>
        </section>

        <section class="footer__legals">
            <span>© 2005 - 2024 - ELAO - Tous droits réservés</span>
            <a href="/elao_/pr/636/legal">Mentions légales</a>
            <a href="/elao_/pr/636/confidentialite">Protection des données</a>
            <a id="see" href="#ssss">🐍</a>
        </section>
    </div>
</footer>

            </body>
</html>
