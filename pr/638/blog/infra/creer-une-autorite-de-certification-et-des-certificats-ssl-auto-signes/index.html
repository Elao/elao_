<!DOCTYPE html>
<html lang="fr" class="no-js">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Créer une autorité de certification et des certificats SSL auto-signés</title>

        <!-- Favicon -->
        <link rel="apple-touch-icon" sizes="180x180" href="/elao_/pr/638/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/elao_/pr/638/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/elao_/pr/638/favicon-16x16.png">
        <link rel="manifest" href="/elao_/pr/638/site.webmanifest">
        <link rel="mask-icon" href="/elao_/pr/638/safari-pinned-tab.svg" color="#ff4344">
        <link rel="shortcut icon" href="/elao_/pr/638/favicon.ico">
        <meta name="msapplication-TileColor" content="#ff4344">
        <meta name="msapplication-config" content="/elao_/pr/638/browserconfig.xml">
        <meta name="theme-color" content="#ffffff">

                    <meta name="description" content="Créer une autorité de certification et des certificats SSL auto-signés" />
            <link rel="canonical" href="https://elao.github.io/elao_/pr/638/blog/infra/creer-une-autorite-de-certification-et-des-certificats-ssl-auto-signes" />

            <!-- Open Graph / Facebook -->
            <meta property="og:title" content="Créer une autorité de certification et des certificats SSL auto-signés" />
            <meta property="og:locale" content="fr" />
            <meta property="og:description" content="Créer une autorité de certification et des certificats SSL auto-signés" />
            <meta property="og:url" content="https://elao.github.io/elao_/pr/638/blog/infra/creer-une-autorite-de-certification-et-des-certificats-ssl-auto-signes" />
            <meta property="og:site_name" content="elao_" />

                                        <meta property="og:image" content="https://elao.github.io/elao_/pr/638/%2E%2E/../resized/content/images/blog/thumbnails/matryoshka.jpg/374ba9e8181bd6d10705634082334d51.jpg">
            
            <!-- Twitter -->
            <meta property="twitter:card" content="summary_large_image">
            <meta property="twitter:title" content="Créer une autorité de certification et des certificats SSL auto-signés">
            <meta property="twitter:description" content="Créer une autorité de certification et des certificats SSL auto-signés">
            <meta property="twitter:site" content="@elao">
            <meta property="twitter:creator" content="@elao">
                                        <meta property="twitter:image" content="https://elao.github.io/elao_/pr/638/%2E%2E/../resized/content/images/blog/thumbnails/matryoshka.jpg/735bcd75aab4c614280fa247c079e344.jpg">
                            <link rel="alternate" type="application/rss+xml" href="/elao_/pr/638/blog/rss.xml" title="Le blog de l'équipe d'Elao" />
        
                <script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "NewsArticle",
    "headline": "Créer une autorité de certification et des certificats SSL auto-signés",
    "image": [
        "https://elao.github.io/elao_/pr/638/blog/infra/content/images/blog/thumbnails/matryoshka.jpg"
    ],
    "datePublished": "2010-10-05T00:00:00+00:00",
    "dateModified": "2010-10-05T00:00:00+00:00",
    "author": [
        {
            "@type": "Person",
            "name": "Guewen Faivre",
            "url": "https://elao.github.io/elao_/pr/638/equipe/gfaivre"
        }
    ],
    "keywords": [
        "Linux",
        "Securite"
    ]
}
    </script>
    
                            <meta name="robots" content="noindex" />
        
        <script>
                        document.querySelector('html').classList.remove('no-js');
        </script>

                    <link rel="stylesheet" href="/elao_/pr/638/build/app.9a5eb2aa.css">
        
                        <script src="/elao_/pr/638/build/runtime.43102b43.js" defer></script><script src="/elao_/pr/638/build/552.3082ae9c.js" defer></script><script src="/elao_/pr/638/build/769.7dfbbe52.js" defer></script><script src="/elao_/pr/638/build/app.d906f729.js" defer></script>

                    

    <script src="https://platform.twitter.com/widgets.js"></script>
    <script async defer src="//platform.instagram.com/en_US/embeds.js"></script>

    <script>
        window.onload = (function(){
            var tweets = document.querySelectorAll('.tweet-container');
            tweets.forEach(function(tweet) {
                // https://developer.twitter.com/en/docs/twitter-for-websites/embedded-tweets/guides/embedded-tweet-parameter-reference
                twttr.widgets.createTweet(tweet.getAttribute('data-tweet-id'), tweet, {
                    conversation: 'none',
                    cards: 'hidden',
                    theme: 'light',
                    lang: 'fr',
                    align: 'center',
                    width: 550, // default
                    dnt: true,
                })
            })
        });
    </script>

        <!-- S.E.E. -->
        <meta name="see" content="&#x5B;&quot;&#x5C;&#x2F;elao_&#x5C;&#x2F;pr&#x5C;&#x2F;638&#x5C;&#x2F;build&#x5C;&#x2F;see.ace7bf9f.js&quot;&#x5D;">
        <meta name="see_style" content="&#x5B;&quot;&#x5C;&#x2F;elao_&#x5C;&#x2F;pr&#x5C;&#x2F;638&#x5C;&#x2F;build&#x5C;&#x2F;see.d77e78f8.css&quot;&#x5D;">
    </head>
    <body
        data-controller="swup-plugins symfony--ux-swup--swup swup-matomo" data-symfony--ux-swup--swup-containers-value="&#x5B;&quot;&#x23;main&quot;,&quot;&#x23;nav&quot;&#x5D;" data-symfony--ux-swup--swup-cache-value="true" data-symfony--ux-swup--swup-animate-history-browsing-value="true" data-symfony--ux-swup--swup-debug-value="false" data-symfony--ux-swup--swup-link-selector-value="a&#x5B;href&#x5E;&#x3D;&quot;https&#x3A;&#x2F;&#x2F;elao.github.io&#x2F;elao_&#x2F;pr&#x2F;638&quot;&#x5D;&#x3A;not&#x28;&#x5B;data-no-swup&#x5D;&#x29;&#x3A;not&#x28;&#x5B;target&#x3D;&quot;_blank&quot;&#x5D;&#x29;&#x3A;not&#x28;a&#x5B;href&#x5E;&#x3D;&quot;https&#x3A;&#x2F;&#x2F;elao.github.io&#x2F;elao_&#x2F;pr&#x2F;638&#x2F;_profiler&quot;&#x5D;&#x29;,a&#x5B;href&#x5E;&#x3D;&quot;&#x2F;&quot;&#x5D;&#x3A;not&#x28;&#x5B;data-no-swup&#x5D;&#x29;&#x3A;not&#x28;&#x5B;target&#x3D;&quot;_blank&quot;&#x5D;&#x29;&#x3A;not&#x28;a&#x5B;href&#x5E;&#x3D;&quot;https&#x3A;&#x2F;&#x2F;elao.github.io&#x2F;elao_&#x2F;pr&#x2F;638&#x2F;_profiler&quot;&#x5D;&#x29;" data-swup-matomo-enabled-value="false">
                    <header id="nav" class="header">
                <div class="container">
                    <!--
                        Todo :
                        - only on homepage : on scroll .logo.logo--animated becomes .logo.logo--animated.logo--active (triggers its animation)
                     -->
                    <a href="/elao_/pr/638/">
                        <span class="screen-reader">Créer une autorité de certification et des certificats SSL auto-signés</span>
                                                    <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 300 100" class="logo logo--animated">
                                <path d="M61.6,61.6H19.7C21,69,24.8,72.2,32.6,72.2c5.9,0,8.8-1.9,11.7-7.8l16.1,6.9C56.2,82,46.9,87.8,32.1,87.8
                                    c-19.1,0-32-12.6-32-31.6c0-19.5,12.6-32.6,31.4-32.6c18.1,0,30.3,12.6,30.3,31.6C61.7,57.2,61.7,58.9,61.6,61.6z M19.6,49.3h23.6
                                    c-0.2-7.9-4.1-10.9-11.3-10.9S20.7,41.8,19.6,49.3z"/>
                                <path d="M71.2,0.1H90v86.5H71.2V0.1z"/>
                                <path d="M166.1,24.7v61.8h-18.8V72.7c-3.5,9.8-10.5,15.1-20.4,15.1c-17.7,0-27.4-12.9-27.4-32
                                    c0-19.4,9.3-32.2,26.2-32.2c10.5,0,18,5.4,21.6,15.6V24.7H166.1z M147.9,55.7c0-10.4-4.8-15.2-15.1-15.2c-9.9,0-14.6,4.8-14.6,15.2
                                    c0,10.1,4.7,14.9,14.6,14.9C143.1,70.7,147.9,65.9,147.9,55.7L147.9,55.7z"/>
                                <path d="M242.8,55.8c0,19.9-15.3,32-33.6,32s-33.6-12.1-33.6-32s15.3-32.2,33.6-32.2S242.8,35.8,242.8,55.8z M224,55.8
                                    c0-10.4-4.7-15.2-14.8-15.2c-10.1,0-14.8,4.8-14.8,15.2c0,10.1,4.7,14.9,14.8,14.9S224,65.9,224,55.8L224,55.8z"/>
                                <rect x="243.1" y="86.5" width="56.7" height="15"/>
                            </svg>
                                            </a>

                                            <!-- Desktop nav -->
                        <nav class="nav">
                            <ul>
                                                                    <li class="nav__item ">
                                        <a href="/elao_/pr/638/nos-services/">
                                                                                        <span>Services</span>
                                        </a>
                                    </li>
                                                                    <li class="nav__item ">
                                        <a href="/elao_/pr/638/demarche">
                                                                                        <span>Démarche</span>
                                        </a>
                                    </li>
                                                                    <li class="nav__item ">
                                        <a href="/elao_/pr/638/etudes-de-cas">
                                                                                        <span>Études de cas</span>
                                        </a>
                                    </li>
                                                                    <li class="nav__item ">
                                        <a href="/elao_/pr/638/nos-valeurs">
                                                                                        <span>Valeurs</span>
                                        </a>
                                    </li>
                                                                    <li class="nav__item ">
                                        <a href="/elao_/pr/638/equipe">
                                                                                        <span>L&#039;équipe</span>
                                        </a>
                                    </li>
                                                                    <li class="nav__item nav__item--active">
                                        <a href="/elao_/pr/638/blog">
                                                                                        <span>Blog</span>
                                        </a>
                                    </li>
                                                                    <li class="nav__item ">
                                        <a href="/elao_/pr/638/contact">
                                                                                            <i class="icon icon--contact" aria-hidden="true"></i>
                                                                                        <span>Contact</span>
                                        </a>
                                    </li>
                                                            </ul>
                        </nav>
                    
                                            <!-- Mobile nav -->
                        <nav class="nav-mobile" data-controller="toggle">
                            <div class="nav-mobile__header">
                                <a href="/elao_/pr/638/">
                                                                <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 300 100" class="logo logo--animated">
                                <path d="M61.6,61.6H19.7C21,69,24.8,72.2,32.6,72.2c5.9,0,8.8-1.9,11.7-7.8l16.1,6.9C56.2,82,46.9,87.8,32.1,87.8
                                    c-19.1,0-32-12.6-32-31.6c0-19.5,12.6-32.6,31.4-32.6c18.1,0,30.3,12.6,30.3,31.6C61.7,57.2,61.7,58.9,61.6,61.6z M19.6,49.3h23.6
                                    c-0.2-7.9-4.1-10.9-11.3-10.9S20.7,41.8,19.6,49.3z"/>
                                <path d="M71.2,0.1H90v86.5H71.2V0.1z"/>
                                <path d="M166.1,24.7v61.8h-18.8V72.7c-3.5,9.8-10.5,15.1-20.4,15.1c-17.7,0-27.4-12.9-27.4-32
                                    c0-19.4,9.3-32.2,26.2-32.2c10.5,0,18,5.4,21.6,15.6V24.7H166.1z M147.9,55.7c0-10.4-4.8-15.2-15.1-15.2c-9.9,0-14.6,4.8-14.6,15.2
                                    c0,10.1,4.7,14.9,14.6,14.9C143.1,70.7,147.9,65.9,147.9,55.7L147.9,55.7z"/>
                                <path d="M242.8,55.8c0,19.9-15.3,32-33.6,32s-33.6-12.1-33.6-32s15.3-32.2,33.6-32.2S242.8,35.8,242.8,55.8z M224,55.8
                                    c0-10.4-4.7-15.2-14.8-15.2c-10.1,0-14.8,4.8-14.8,15.2c0,10.1,4.7,14.9,14.8,14.9S224,65.9,224,55.8L224,55.8z"/>
                                <rect x="243.1" y="86.5" width="56.7" height="15"/>
                            </svg>
                        
                                </a>
                                <button class="nav-toggle nav-toggle--close">
                                    <i class="icon icon--close" aria-hidden="true"></i>
                                    <span class="screen-reader">Fermer le menu</span>
                                </button>
                            </div>
                            <ul>
                                                                    <li class="nav-mobile__item  ">
                                        <a href="/elao_/pr/638/nos-services/">
                                                                                        <span>Services</span>
                                        </a>
                                    </li>
                                                                    <li class="nav-mobile__item  ">
                                        <a href="/elao_/pr/638/demarche">
                                                                                        <span>Démarche</span>
                                        </a>
                                    </li>
                                                                    <li class="nav-mobile__item  ">
                                        <a href="/elao_/pr/638/etudes-de-cas">
                                                                                        <span>Études de cas</span>
                                        </a>
                                    </li>
                                                                    <li class="nav-mobile__item  ">
                                        <a href="/elao_/pr/638/nos-valeurs">
                                                                                        <span>Valeurs</span>
                                        </a>
                                    </li>
                                                                    <li class="nav-mobile__item  ">
                                        <a href="/elao_/pr/638/equipe">
                                                                                        <span>L&#039;équipe</span>
                                        </a>
                                    </li>
                                                                    <li class="nav-mobile__item nav-mobile__item--active ">
                                        <a href="/elao_/pr/638/blog">
                                                                                        <span>Blog</span>
                                        </a>
                                    </li>
                                                                    <li class="nav-mobile__item  nav-mobile__item--large">
                                        <a href="/elao_/pr/638/contact">
                                                                                            <i class="icon icon--contact" aria-hidden="true"></i>
                                                                                        <span>Contact</span>
                                        </a>
                                    </li>
                                                            </ul>
                        </nav>
                        <button class="nav-toggle nav-toggle--open">
                            <i class="icon icon--hamburger" aria-hidden="true"></i>
                            <span class="screen-reader">Ouvrir le menu</span>
                        </button>
                                    </div>
            </header>
                <main id="main">
                <div class="container">
                                <ol class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
            <li class="breadcrumb__item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
            <a itemprop="item" href="/elao_/pr/638/">
                <span itemprop="name">Accueil</span>
            </a>
            <meta itemprop="position" content="1" />
        </li>        <li class="breadcrumb__item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
            <a itemprop="item" href="/elao_/pr/638/blog">
                <span itemprop="name">Blog</span>
            </a>
            <meta itemprop="position" content="2" />
        </li>        <li class="breadcrumb__item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
            <a itemprop="item" href="/elao_/pr/638/blog/infra">
                <span itemprop="name">Infra</span>
            </a>
            <meta itemprop="position" content="3" />
        </li>        <li class="breadcrumb__item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
            <a itemprop="item" href="#">
                <span itemprop="name">Créer une autorité de certification et des certificats SSL auto-signés</span>
            </a>
            <meta itemprop="position" content="4" />
        </li></ol>

        
        <div class="article-banner">
            <div
                class="article-banner__cover"
                style="background: #f1f1f1 url('/elao_/pr/638/%2E%2E/../resized/content/images/blog/thumbnails/matryoshka.jpg/36f8d75b595814cf19ced596ebe9383b.jpg');
    background: #f1f1f1 -webkit-image-set(
        url('/elao_/pr/638/%2E%2E/../resized/content/images/blog/thumbnails/matryoshka.jpg/36f8d75b595814cf19ced596ebe9383b.jpg') 1x,
        url('/elao_/pr/638/%2E%2E/../resized/content/images/blog/thumbnails/matryoshka.jpg/1103f51b73fd66d1f6df401244a3a316.jpg') 2x
    );
    background: #f1f1f1 -moz-image-set(
        url('/elao_/pr/638/%2E%2E/../resized/content/images/blog/thumbnails/matryoshka.jpg/36f8d75b595814cf19ced596ebe9383b.jpg') 1x,
        url('/elao_/pr/638/%2E%2E/../resized/content/images/blog/thumbnails/matryoshka.jpg/1103f51b73fd66d1f6df401244a3a316.jpg') 2x
    );
    background: #f1f1f1 -ms-image-set(
        url('/elao_/pr/638/%2E%2E/../resized/content/images/blog/thumbnails/matryoshka.jpg/36f8d75b595814cf19ced596ebe9383b.jpg') 1x,
        url('/elao_/pr/638/%2E%2E/../resized/content/images/blog/thumbnails/matryoshka.jpg/1103f51b73fd66d1f6df401244a3a316.jpg') 2x
    );
    background: #f1f1f1 image-set(
        url('/elao_/pr/638/%2E%2E/../resized/content/images/blog/thumbnails/matryoshka.jpg/36f8d75b595814cf19ced596ebe9383b.jpg') 1x,
        url('/elao_/pr/638/%2E%2E/../resized/content/images/blog/thumbnails/matryoshka.jpg/1103f51b73fd66d1f6df401244a3a316.jpg') 2x
    );"
                data-aos="fade-down"
            ></div>

            <div class="article-info" data-aos="zoom-in">
                                                    <div class="article-author ">
                        <div class="article-author__image">
                                                            <a href="/elao_/pr/638/blog/auteur/gfaivre">
                                    <img     src="/elao_/pr/638/%2E%2E/../resized/content/images/members/avatars/gfaivre.jpg/0b15d32360625605c83c974bf168637b.jpg"
    srcset="
        /elao_/pr/638/%2E%2E/../resized/content/images/members/avatars/gfaivre.jpg/0b15d32360625605c83c974bf168637b.jpg 1x,
        /elao_/pr/638/%2E%2E/../resized/content/images/members/avatars/gfaivre.jpg/f804161347eed9c67c0f2c20a4f1fc65.jpg 2x
    "
 />
                                </a>
                                                    </div>
                        <span class="article-author__info">
                            Écrit par
                                                            <a href="/elao_/pr/638/blog/auteur/gfaivre">
                                    <strong>Guewen Faivre</strong>
                                </a>
                                                    </span>
                    </div>
                                <div class="article-info__date">
                    <span>Publication <strong>5 octobre 2010</strong></span>
                                                        </div>
            </div>

            <div class="article-header" data-aos="zoom-in-up">
                <h1>Créer une autorité de certification et des certificats SSL auto-signés</h1>
                <p>Créer une autorité de certification et des certificats SSL auto-signés</p>
                <ul class="article-tag-list">
                                            <li class="article-tag-list__item">
                            <a href="/elao_/pr/638/blog/tag/linux" rel="nofollow">#Linux</a>
                        </li>
                                            <li class="article-tag-list__item">
                            <a href="/elao_/pr/638/blog/tag/securite" rel="nofollow">#Securite</a>
                        </li>
                                    </ul>
            </div>
        </div>

        
        <div class="article-content">
            <main class="article-content__main">

                
                
                <p>Bonjour à tous !</p>
<p>Petit memo aujourd'hui pour les admin sys</p>
<p>Nous allons voir comment créer sa propre autorité de certification et créer ses propres certificats SSL auto-signés, toujours très utiles lorsque l'on a des problématiques de connexion sécurisée.<!--more-->
L'ensemble de ces manipulations ont été réalisées sur des serveurs Linux / Debian Lenny.</p>
<h3 id="creer-son-propre-ca-certificate-authority" class="anchor-title"><a href="#creer-son-propre-ca-certificate-authority">Créer son propre CA (Certificate Authority)</a></h3>
<p>Nous allons commencer par créer une clé privée</p>
<pre class="code-multiline language-bash"><code class="language-bash" id="43687bc072862b8a3751054098c7f046">root@my_server:~<span class="token comment"># openssl genrsa -des3 -out elao-ca.key 2048</span>
Generating RSA private key, <span class="token number">2048</span> bit long modulus
<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.+++
<span class="token punctuation">..</span>+++
e is <span class="token number">65537</span> <span class="token punctuation">(</span>0x10001<span class="token punctuation">)</span>
Enter pass phrase <span class="token keyword">for</span> elao-ca.key:</code></pre>
<p>La protection par une "pass phrase" de votre clé est essentielle ici, en effet cette clé nous servira à signer <strong>tous</strong> les certificats de notre organisation, sa confidentialité doit donc être <strong>primordiale</strong>. Il va sans dire que le stockage de cette clé, dans l'idéal, doit être fait sur un support amovible  (type clé USB), et ne doit pas être conservée sur une machine accessible "publiquement" (j'entend ici directement connectée à internet).</p>
<p><strong>Note :</strong></p>
<p>Il est possible d'améliorer la qualité de la clé en fournissant comme source de données aléatoires un ou plusieurs fichiers avec l'option -rand, par exemple :</p>
<pre class="code-multiline"><code id="f568c082b3dea1587309e9e36ebafbcb">-rand /var/log/messages</code></pre>
<p>Par défaut openssl utilisera /dev/urandom s'il existe, dans le cas contraire /dev/random, la source de données aléatoire est très importante pour la qualité du cryptage, si votre système ne dispose d'aucun de ces deux fichiers vous pouvez installer un générateur de nombre aléatoire comme [egd][1].</p>
<p>Maintenant que nous disposons d'une clé nous allons procéder à la création de notre certificat CA privé</p>
<pre class="code-multiline"><code id="b7c78c01245d7861b5feb4627d61d372">openssl req -new -x509 -days 3650 -key elao-ca.key -out elao-ca.crt
Enter pass phrase for elao-ca.key:</code></pre>
<p>Le contenu de notre certificat est vérifiable grâce à la commande suivante :</p>
<pre class="code-multiline"><code id="abbea37b2326b86905f5195ae9763b03">openssl x509 -in elao-ca.crt -text -noout</code></pre>
<h3 id="creer-une-cle-et-un-certificat-pour-le-serveur" class="anchor-title"><a href="#creer-une-cle-et-un-certificat-pour-le-serveur">Créer une clé et un certificat pour le serveur</a></h3>
<p>Maintenant que nous disposons de notre autorité de certification nous allons pouvoir créer et signer les certificats à destination de notre serveur.</p>
<pre class="code-multiline"><code id="b9043d8b3c399723bb63690eaa28b58f">openssl genrsa -des3 -out elao-server.key 1024</code></pre>
<p>Comme vous le constatez nous restons sur un cryptage à 1024 bits, en effet il est risqué d'aller au delà car certains navigateurs ne supportent pas les cryptages supérieurs.</p>
<p>La prochaine étape consiste à générer une requête de signature de certificat, appelée comme ceci car elle est normalement transmise à une autorité de certification (Certificate Authority ou CA) pour signature.
Un certificat n’est ni plus, ni moins qu’une clé qui a été signée par une autorité autorisée garantissant ainsi que celle-ci est valide est correspond bien à la bonne entité.</p>
<p><strong>Note:</strong></p>
<p>Une autorité de certification est une entité autorisée à signer les certificats SSL, elles ne sont que quelques unes à faire autorité. Lorsqu’un certificat est signé par l’une d’entre elles, les navigateurs accepterons automatiquement le certificat comme étant valide, si un certificat est signé par une autorité de certification absente de la liste des autorités fiables du navigateur celui-ci renverra un avertissement à l’utilisateur lui précisant que le certificat a été signé par une autorité non reconnue et lui demandera de confirmer qu’il accepte bien le certificat.</p>
<p>Ce qui se traduit sous Firefox par exemple par ce type d’écran:</p>
<img title="firefox-ssl" src="/blog/medias/creer-une-autorite-de-certification-et-des-certificats-ssl-auto-signes/firefox-ssl.png" alt="firefox ssl Créer une autorité de certification et des certificats SSL auto signés" width="700" height="386" srcset="/blog/medias/creer-une-autorite-de-certification-et-des-certificats-ssl-auto-signes/firefox-ssl.png 1x,
/blog/medias/creer-une-autorite-de-certification-et-des-certificats-ssl-auto-signes/firefox-ssl.png 2x," id="firefox-ssl-creer-une-autorite-de-certification-et-des-certificats-ssl-auto-signes">
<p>Au cours de cette étape plusieurs questions vous serons posées et se présenteront ainsi, vos réponses seront utilisées par le certificat et utilisées par les navigateurs afin de vérifier que le certificat provient d’une source sûre. Les utilisateurs seront en mesure d’inspecter ces détails à n’importe quel moment à partir de l’instant où ils se connectent à votre site.</p>
<pre class="code-multiline"><code id="9ac4c983c83623aac25ca51c511d91b9">openssl req -new -key elao-server.key -out elao-server.csr</code></pre>
<p>... qui devrait aboutir sur:</p>
<pre class="code-multiline language-bash"><code class="language-bash" id="5e52c6003e08ee78d3690936535ae396">Enter pass phrase <span class="token keyword">for</span> elao-server.tld.key:
You are about to be asked to enter information that will be incorporated into your certificate request.
What you are about to enter is what is called a Distinguished Name or a DN.
There are quite a few fields but you can leave some blank
For some fields there will be a default value,
If you enter <span class="token string">'.'</span>, the field will be left blank.
-----
Country Name <span class="token punctuation">(</span><span class="token number">2</span> letter code<span class="token punctuation">)</span> <span class="token punctuation">[</span>AU<span class="token punctuation">]</span>:FR
State or Province Name <span class="token punctuation">(</span>full name<span class="token punctuation">)</span> <span class="token punctuation">[</span>Some-State<span class="token punctuation">]</span>:Rhone-Alpes
Locality Name <span class="token punctuation">(</span>eg, city<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>:LYON
Organization Name <span class="token punctuation">(</span>eg, company<span class="token punctuation">)</span> <span class="token punctuation">[</span>Internet Widgits Pty Ltd<span class="token punctuation">]</span>:ELAO
Organizational Unit Name <span class="token punctuation">(</span>eg, section<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>:IT
Common Name <span class="token punctuation">(</span>eg, YOUR name<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>:my-server.my-domain.tld
Email Address <span class="token punctuation">[</span><span class="token punctuation">]</span>:my-contact-adress@my-domain.tld
Enter pass phrase <span class="token keyword">for</span> elao-server.key:
You are about to be asked to enter information that will be incorporatedinto your certificate request.
What you are about to enter is what is called a Distinguished Name or a DN.There are quite a few fields but you can leave some blankFor some fields there will be a default value,If you enter <span class="token string">'.'</span>, the field will be left blank.
-----
Country Name <span class="token punctuation">(</span><span class="token number">2</span> letter code<span class="token punctuation">)</span> <span class="token punctuation">[</span>AU<span class="token punctuation">]</span>:FR
State or Province Name <span class="token punctuation">(</span>full name<span class="token punctuation">)</span> <span class="token punctuation">[</span>Some-State<span class="token punctuation">]</span>:Rhone-Alpes
Locality Name <span class="token punctuation">(</span>eg, city<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>:LYON
Organization Name <span class="token punctuation">(</span>eg, company<span class="token punctuation">)</span> <span class="token punctuation">[</span>Internet Widgits Pty Ltd<span class="token punctuation">]</span>:ELAO
Organizational Unit Name <span class="token punctuation">(</span>eg, section<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>:IT
Common Name <span class="token punctuation">(</span>eg, YOUR name<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>:my-server.my-domain.tld
Email Address <span class="token punctuation">[</span><span class="token punctuation">]</span>:my-adress.my-domain.tld</code></pre>
<p>Attention lorsque vous générez cette requête le common name doit correspondre EXACTEMENT au FQDN de votre serveur !</p>
<pre class="code-multiline"><code id="3e0c8656137186190b00c50aefc31dba">openssl x509 -req -in elao-server.csr -out elao-server.crt -sha1 -CA elao-ca.crt -CAkey elao-ca.key -CAcreateserial -days 3650</code></pre>
<p>Un petit coup d’oeil pour vérifier que tout est ok</p>
<pre class="code-multiline"><code id="b6c6173d6ffc6724677b272b316675ae">openssl x509 -in elao-server.crt -text -noout</code></pre>
<p>Attention cependant lorsque vous allez utiliser votre certificat avec Apache typiquement, à chaque redémarrage vous devrez saisir la “pass phrase” du certificat, ce qui peut être contraignant dans le cas d’un “reboot” malheureux de la machine (Apache planté jusqu’à intervention de l’admin).
Pour palier ce problème nous allons générer une clé non sécurisée, oui je sais, c’est mal, mais il faut parfois choisir entre la sécurité et la praticité.</p>
<pre class="code-multiline"><code id="beda81ac7ce788e07de6ab99786100b3">openssl rsa -in elao-server.key -out elao-server.key.insecure</code></pre>
<p>Au niveau de notre configuration apache nous utiliserons ensuite, par exemple, notre certificat et notre clé de cette façon:</p>
<pre class="code-multiline"><code id="08417dfc40c00d486ba0576efb0a07a2">SSLEngine On
SSLCertificateFile      /path_to_my_certs/my-server.my-domain.tld.crt
SSLCertificateKeyFile   /path_to_my_keys/my-server.my-domain.tld.key</code></pre>
                                                                </main>
            <aside class="article-content__aside">
                            </aside>
        </div>

        <div class="article-footer" data-aos="fade-in">
                                                <div class="article-author">
                        <div class="article-author__image">
                            <a href="/elao_/pr/638/blog/auteur/gfaivre">
                                <img     src="/elao_/pr/638/%2E%2E/../resized/content/images/members/avatars/gfaivre.jpg/0b15d32360625605c83c974bf168637b.jpg"
    srcset="
        /elao_/pr/638/%2E%2E/../resized/content/images/members/avatars/gfaivre.jpg/0b15d32360625605c83c974bf168637b.jpg 1x,
        /elao_/pr/638/%2E%2E/../resized/content/images/members/avatars/gfaivre.jpg/f804161347eed9c67c0f2c20a4f1fc65.jpg 2x
    "
 />
                            </a>
                        </div>
                        <span class="article-author__info">
                            Écrit par
                            <a href="/elao_/pr/638/blog/auteur/gfaivre">
                                <strong>Guewen Faivre</strong>
                            </a>
                        </span>

                        <div class="article-author__social">
                                                            <a href="https://twitter.com/guewen_faivre" class="social social--small">
                                    <i class="icon icon--x" aria-hidden="true"></i>
                                    <span class="screen-reader">Compte Twitter de Guewen Faivre</span>
                                </a>
                                                                                        <a href="https://github.com/gfaivre " class="social social--small">
                                    <i class="icon icon--github" aria-hidden="true"></i>
                                    <span class="screen-reader">Compte github de Guewen Faivre</span>
                                </a>
                                                                                        <a href="http://www.elao.com" class="social social--small">
                                    <i class="icon icon--website" aria-hidden="true"></i>
                                    <span class="screen-reader">Site personnel de Guewen Faivre</span>
                                </a>
                                                    </div>
                    </div>
                                    </div>

                <div class="bricks">
            
                            <div class="brick-contribute">
                    <p>
                        Une typo ?
                        <a href="https://github.com/Elao/elao_/edit/content/itw-emmanuelle/content/blog/infra/creer-une-autorite-de-certification-et-des-certificats-ssl-auto-signes.md/" target="_blank" class="animated-link animated-link--light">
                            Modifier cet article sur Github
                        </a>
                    </p>
                </div>
                    </div>
            </div>
        </main>
                    
<footer class="footer">
    <div class="container">
        <section class="footer__links">
            <p class="h1">
                elao
                <span>développe</span>
                <span>du lien</span>
            </p>
            <div class="links">
                                    <ul>
                                                    <li>
                                <a href="/elao_/pr/638/nos-services/" >Services</a>
                            </li>
                                                    <li>
                                <a href="/elao_/pr/638/demarche" >Démarche</a>
                            </li>
                                                    <li>
                                <a href="/elao_/pr/638/etudes-de-cas" >Études de cas</a>
                            </li>
                                            </ul>
                                    <ul>
                                                    <li>
                                <a href="/elao_/pr/638/nos-valeurs" >Valeurs</a>
                            </li>
                                                    <li>
                                <a href="/elao_/pr/638/equipe" >L&#039;équipe</a>
                            </li>
                                                    <li>
                                <a href="/elao_/pr/638/blog" >Blog</a>
                            </li>
                                                    <li>
                                <a href="/elao_/pr/638/blog/rss.xml"  data-no-swup="data-no-swup">RSS</a>
                            </li>
                                            </ul>
                                <ul>
                    <li>
                                                <a href="/elao_/pr/638/recrutement">
                            Nous recrutons
                                                            <span class="bullet">2</span>
                                                    </a>
                    </li>
                    <li>
                        <a href="/elao_/pr/638/glossaire/">Glossaire 🧐</a>
                    </li>
                    <li>
                        <a href="/elao_/pr/638/elaomojis">Elaomojis 🎉</a>
                    </li>
                </ul>
            </div>
            <div class="socials">
                <ul>
                    <li>
                        <a href="https://github.com/elao" target="_blank">
                            <i class="icon icon--github"></i>
                            Github
                        </a>
                    </li>
                    <li>
                        <a href="https://twitter.com/elao" target="_blank">
                            <i class="icon icon--x"></i>
                            Twitter
                        </a>
                    </li>
                    <li>
                        <a href="https://www.linkedin.com/company/elao/mycompany/" target="_blank">
                            <i class="icon icon--linkedin"></i>
                            Linkedin
                        </a>
                    </li>
                </ul>
            </div>
            <div class="contacts">
                <ul>
                    <li>
                        <a href="/elao_/pr/638/contact">Contact</a>
                    </li>
                    <li>
                        <a href="tel:04 82 53 37 19">04 82 53 37 19</a>
                    </li>
                    <li>
                        <a href="mailto:contact@elao.com">contact@elao.com</a>
                    </li>
                    <li>34 rue Jean Broquin</li>
                    <li>69006 Lyon</li>
                </ul>
            </div>
        </section>

        <section class="footer__legals">
            <span>© 2005 - 2024 - ELAO - Tous droits réservés</span>
            <a href="/elao_/pr/638/legal">Mentions légales</a>
            <a href="/elao_/pr/638/confidentialite">Protection des données</a>
            <a id="see" href="#ssss">🐍</a>
        </section>
    </div>
</footer>

            </body>
</html>
