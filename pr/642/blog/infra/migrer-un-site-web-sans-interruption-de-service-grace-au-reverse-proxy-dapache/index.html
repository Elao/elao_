<!DOCTYPE html>
<html lang="fr" class="no-js">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Migrer un site web sans interruption de service gr√¢ce au reverse proxy d&#039;Apache.</title>

        <!-- Favicon -->
        <link rel="apple-touch-icon" sizes="180x180" href="/elao_/pr/642/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/elao_/pr/642/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/elao_/pr/642/favicon-16x16.png">
        <link rel="manifest" href="/elao_/pr/642/site.webmanifest">
        <link rel="mask-icon" href="/elao_/pr/642/safari-pinned-tab.svg" color="#ff4344">
        <link rel="shortcut icon" href="/elao_/pr/642/favicon.ico">
        <meta name="msapplication-TileColor" content="#ff4344">
        <meta name="msapplication-config" content="/elao_/pr/642/browserconfig.xml">
        <meta name="theme-color" content="#ffffff">

                    <meta name="description" content="Migrer un site web sans interruption de service gr√¢ce au reverse proxy d&#039;Apache." />
            <link rel="canonical" href="https://elao.github.io/elao_/pr/642/blog/infra/migrer-un-site-web-sans-interruption-de-service-grace-au-reverse-proxy-dapache" />

            <!-- Open Graph / Facebook -->
            <meta property="og:title" content="Migrer un site web sans interruption de service gr√¢ce au reverse proxy d&#039;Apache." />
            <meta property="og:locale" content="fr" />
            <meta property="og:description" content="Migrer un site web sans interruption de service gr√¢ce au reverse proxy d&#039;Apache." />
            <meta property="og:url" content="https://elao.github.io/elao_/pr/642/blog/infra/migrer-un-site-web-sans-interruption-de-service-grace-au-reverse-proxy-dapache" />
            <meta property="og:site_name" content="elao_" />

                                        <meta property="og:image" content="https://elao.github.io/elao_/pr/642/%2E%2E/../resized/content/images/blog/thumbnails/pulp_starwars.png/1707c353a5256f94766603cb4a76d3c6.png">
            
            <!-- Twitter -->
            <meta property="twitter:card" content="summary_large_image">
            <meta property="twitter:title" content="Migrer un site web sans interruption de service gr√¢ce au reverse proxy d&#039;Apache.">
            <meta property="twitter:description" content="Migrer un site web sans interruption de service gr√¢ce au reverse proxy d&#039;Apache.">
            <meta property="twitter:site" content="@elao">
            <meta property="twitter:creator" content="@elao">
                                        <meta property="twitter:image" content="https://elao.github.io/elao_/pr/642/%2E%2E/../resized/content/images/blog/thumbnails/pulp_starwars.png/3e300c819a72b5ad73450bd1116521b6.png">
                            <link rel="alternate" type="application/rss+xml" href="/elao_/pr/642/blog/rss.xml" title="Le blog de l'√©quipe d'Elao" />
        
                <script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "NewsArticle",
    "headline": "Migrer un site web sans interruption de service gr√¢ce au reverse proxy d'Apache.",
    "image": [
        "https://elao.github.io/elao_/pr/642/blog/infra/content/images/blog/thumbnails/pulp_starwars.png"
    ],
    "datePublished": "2012-05-04T00:00:00+00:00",
    "dateModified": "2012-05-04T00:00:00+00:00",
    "author": [
        {
            "@type": "Person",
            "name": "Guewen Faivre",
            "url": "https://elao.github.io/elao_/pr/642/equipe/gfaivre"
        }
    ],
    "keywords": [
        "Apache",
        "Linux",
        "Trucs et astuces"
    ]
}
    </script>
    
                            <meta name="robots" content="noindex" />
        
        <script>
                        document.querySelector('html').classList.remove('no-js');
        </script>

                    <link rel="stylesheet" href="/elao_/pr/642/build/app.5ebd3c4b.css">
        
                        <script src="/elao_/pr/642/build/runtime.a6406e7b.js" defer></script><script src="/elao_/pr/642/build/552.3082ae9c.js" defer></script><script src="/elao_/pr/642/build/769.7dfbbe52.js" defer></script><script src="/elao_/pr/642/build/app.d906f729.js" defer></script>

                    

    <script src="https://platform.twitter.com/widgets.js"></script>
    <script async defer src="//platform.instagram.com/en_US/embeds.js"></script>

    <script>
        window.onload = (function(){
            var tweets = document.querySelectorAll('.tweet-container');
            tweets.forEach(function(tweet) {
                // https://developer.twitter.com/en/docs/twitter-for-websites/embedded-tweets/guides/embedded-tweet-parameter-reference
                twttr.widgets.createTweet(tweet.getAttribute('data-tweet-id'), tweet, {
                    conversation: 'none',
                    cards: 'hidden',
                    theme: 'light',
                    lang: 'fr',
                    align: 'center',
                    width: 550, // default
                    dnt: true,
                })
            })
        });
    </script>

        <!-- S.E.E. -->
        <meta name="see" content="&#x5B;&quot;&#x5C;&#x2F;elao_&#x5C;&#x2F;pr&#x5C;&#x2F;642&#x5C;&#x2F;build&#x5C;&#x2F;see.ace7bf9f.js&quot;&#x5D;">
        <meta name="see_style" content="&#x5B;&quot;&#x5C;&#x2F;elao_&#x5C;&#x2F;pr&#x5C;&#x2F;642&#x5C;&#x2F;build&#x5C;&#x2F;see.d77e78f8.css&quot;&#x5D;">
    </head>
    <body
        data-controller="swup-plugins symfony--ux-swup--swup swup-matomo" data-symfony--ux-swup--swup-containers-value="&#x5B;&quot;&#x23;main&quot;,&quot;&#x23;nav&quot;&#x5D;" data-symfony--ux-swup--swup-cache-value="true" data-symfony--ux-swup--swup-animate-history-browsing-value="true" data-symfony--ux-swup--swup-debug-value="false" data-symfony--ux-swup--swup-link-selector-value="a&#x5B;href&#x5E;&#x3D;&quot;https&#x3A;&#x2F;&#x2F;elao.github.io&#x2F;elao_&#x2F;pr&#x2F;642&quot;&#x5D;&#x3A;not&#x28;&#x5B;data-no-swup&#x5D;&#x29;&#x3A;not&#x28;&#x5B;target&#x3D;&quot;_blank&quot;&#x5D;&#x29;&#x3A;not&#x28;a&#x5B;href&#x5E;&#x3D;&quot;https&#x3A;&#x2F;&#x2F;elao.github.io&#x2F;elao_&#x2F;pr&#x2F;642&#x2F;_profiler&quot;&#x5D;&#x29;,a&#x5B;href&#x5E;&#x3D;&quot;&#x2F;&quot;&#x5D;&#x3A;not&#x28;&#x5B;data-no-swup&#x5D;&#x29;&#x3A;not&#x28;&#x5B;target&#x3D;&quot;_blank&quot;&#x5D;&#x29;&#x3A;not&#x28;a&#x5B;href&#x5E;&#x3D;&quot;https&#x3A;&#x2F;&#x2F;elao.github.io&#x2F;elao_&#x2F;pr&#x2F;642&#x2F;_profiler&quot;&#x5D;&#x29;" data-swup-matomo-enabled-value="false">
                    <header id="nav" class="header">
                <div class="container">
                    <!--
                        Todo :
                        - only on homepage : on scroll .logo.logo--animated becomes .logo.logo--animated.logo--active (triggers its animation)
                     -->
                    <a href="/elao_/pr/642/">
                        <span class="screen-reader">Migrer un site web sans interruption de service gr√¢ce au reverse proxy d&#039;Apache.</span>
                                                    <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 300 100" class="logo logo--animated">
                                <path d="M61.6,61.6H19.7C21,69,24.8,72.2,32.6,72.2c5.9,0,8.8-1.9,11.7-7.8l16.1,6.9C56.2,82,46.9,87.8,32.1,87.8
                                    c-19.1,0-32-12.6-32-31.6c0-19.5,12.6-32.6,31.4-32.6c18.1,0,30.3,12.6,30.3,31.6C61.7,57.2,61.7,58.9,61.6,61.6z M19.6,49.3h23.6
                                    c-0.2-7.9-4.1-10.9-11.3-10.9S20.7,41.8,19.6,49.3z"/>
                                <path d="M71.2,0.1H90v86.5H71.2V0.1z"/>
                                <path d="M166.1,24.7v61.8h-18.8V72.7c-3.5,9.8-10.5,15.1-20.4,15.1c-17.7,0-27.4-12.9-27.4-32
                                    c0-19.4,9.3-32.2,26.2-32.2c10.5,0,18,5.4,21.6,15.6V24.7H166.1z M147.9,55.7c0-10.4-4.8-15.2-15.1-15.2c-9.9,0-14.6,4.8-14.6,15.2
                                    c0,10.1,4.7,14.9,14.6,14.9C143.1,70.7,147.9,65.9,147.9,55.7L147.9,55.7z"/>
                                <path d="M242.8,55.8c0,19.9-15.3,32-33.6,32s-33.6-12.1-33.6-32s15.3-32.2,33.6-32.2S242.8,35.8,242.8,55.8z M224,55.8
                                    c0-10.4-4.7-15.2-14.8-15.2c-10.1,0-14.8,4.8-14.8,15.2c0,10.1,4.7,14.9,14.8,14.9S224,65.9,224,55.8L224,55.8z"/>
                                <rect x="243.1" y="86.5" width="56.7" height="15"/>
                            </svg>
                                            </a>

                                            <!-- Desktop nav -->
                        <nav class="nav">
                            <ul>
                                                                    <li class="nav__item ">
                                        <a href="/elao_/pr/642/nos-services/">
                                                                                        <span>Services</span>
                                        </a>
                                    </li>
                                                                    <li class="nav__item ">
                                        <a href="/elao_/pr/642/demarche">
                                                                                        <span>D√©marche</span>
                                        </a>
                                    </li>
                                                                    <li class="nav__item ">
                                        <a href="/elao_/pr/642/etudes-de-cas">
                                                                                        <span>√âtudes de cas</span>
                                        </a>
                                    </li>
                                                                    <li class="nav__item ">
                                        <a href="/elao_/pr/642/nos-valeurs">
                                                                                        <span>Valeurs</span>
                                        </a>
                                    </li>
                                                                    <li class="nav__item ">
                                        <a href="/elao_/pr/642/equipe">
                                                                                        <span>L&#039;√©quipe</span>
                                        </a>
                                    </li>
                                                                    <li class="nav__item nav__item--active">
                                        <a href="/elao_/pr/642/blog">
                                                                                        <span>Blog</span>
                                        </a>
                                    </li>
                                                                    <li class="nav__item ">
                                        <a href="/elao_/pr/642/contact">
                                                                                            <i class="icon icon--contact" aria-hidden="true"></i>
                                                                                        <span>Contact</span>
                                        </a>
                                    </li>
                                                            </ul>
                        </nav>
                    
                                            <!-- Mobile nav -->
                        <nav class="nav-mobile" data-controller="toggle">
                            <div class="nav-mobile__header">
                                <a href="/elao_/pr/642/">
                                                                <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 300 100" class="logo logo--animated">
                                <path d="M61.6,61.6H19.7C21,69,24.8,72.2,32.6,72.2c5.9,0,8.8-1.9,11.7-7.8l16.1,6.9C56.2,82,46.9,87.8,32.1,87.8
                                    c-19.1,0-32-12.6-32-31.6c0-19.5,12.6-32.6,31.4-32.6c18.1,0,30.3,12.6,30.3,31.6C61.7,57.2,61.7,58.9,61.6,61.6z M19.6,49.3h23.6
                                    c-0.2-7.9-4.1-10.9-11.3-10.9S20.7,41.8,19.6,49.3z"/>
                                <path d="M71.2,0.1H90v86.5H71.2V0.1z"/>
                                <path d="M166.1,24.7v61.8h-18.8V72.7c-3.5,9.8-10.5,15.1-20.4,15.1c-17.7,0-27.4-12.9-27.4-32
                                    c0-19.4,9.3-32.2,26.2-32.2c10.5,0,18,5.4,21.6,15.6V24.7H166.1z M147.9,55.7c0-10.4-4.8-15.2-15.1-15.2c-9.9,0-14.6,4.8-14.6,15.2
                                    c0,10.1,4.7,14.9,14.6,14.9C143.1,70.7,147.9,65.9,147.9,55.7L147.9,55.7z"/>
                                <path d="M242.8,55.8c0,19.9-15.3,32-33.6,32s-33.6-12.1-33.6-32s15.3-32.2,33.6-32.2S242.8,35.8,242.8,55.8z M224,55.8
                                    c0-10.4-4.7-15.2-14.8-15.2c-10.1,0-14.8,4.8-14.8,15.2c0,10.1,4.7,14.9,14.8,14.9S224,65.9,224,55.8L224,55.8z"/>
                                <rect x="243.1" y="86.5" width="56.7" height="15"/>
                            </svg>
                        
                                </a>
                                <button class="nav-toggle nav-toggle--close">
                                    <i class="icon icon--close" aria-hidden="true"></i>
                                    <span class="screen-reader">Fermer le menu</span>
                                </button>
                            </div>
                            <ul>
                                                                    <li class="nav-mobile__item  ">
                                        <a href="/elao_/pr/642/nos-services/">
                                                                                        <span>Services</span>
                                        </a>
                                    </li>
                                                                    <li class="nav-mobile__item  ">
                                        <a href="/elao_/pr/642/demarche">
                                                                                        <span>D√©marche</span>
                                        </a>
                                    </li>
                                                                    <li class="nav-mobile__item  ">
                                        <a href="/elao_/pr/642/etudes-de-cas">
                                                                                        <span>√âtudes de cas</span>
                                        </a>
                                    </li>
                                                                    <li class="nav-mobile__item  ">
                                        <a href="/elao_/pr/642/nos-valeurs">
                                                                                        <span>Valeurs</span>
                                        </a>
                                    </li>
                                                                    <li class="nav-mobile__item  ">
                                        <a href="/elao_/pr/642/equipe">
                                                                                        <span>L&#039;√©quipe</span>
                                        </a>
                                    </li>
                                                                    <li class="nav-mobile__item nav-mobile__item--active ">
                                        <a href="/elao_/pr/642/blog">
                                                                                        <span>Blog</span>
                                        </a>
                                    </li>
                                                                    <li class="nav-mobile__item  nav-mobile__item--large">
                                        <a href="/elao_/pr/642/contact">
                                                                                            <i class="icon icon--contact" aria-hidden="true"></i>
                                                                                        <span>Contact</span>
                                        </a>
                                    </li>
                                                            </ul>
                        </nav>
                        <button class="nav-toggle nav-toggle--open">
                            <i class="icon icon--hamburger" aria-hidden="true"></i>
                            <span class="screen-reader">Ouvrir le menu</span>
                        </button>
                                    </div>
            </header>
                <main id="main">
                <div class="container">
                                <ol class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
            <li class="breadcrumb__item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
            <a itemprop="item" href="/elao_/pr/642/">
                <span itemprop="name">Accueil</span>
            </a>
            <meta itemprop="position" content="1" />
        </li>        <li class="breadcrumb__item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
            <a itemprop="item" href="/elao_/pr/642/blog">
                <span itemprop="name">Blog</span>
            </a>
            <meta itemprop="position" content="2" />
        </li>        <li class="breadcrumb__item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
            <a itemprop="item" href="/elao_/pr/642/blog/infra">
                <span itemprop="name">Infra</span>
            </a>
            <meta itemprop="position" content="3" />
        </li>        <li class="breadcrumb__item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
            <a itemprop="item" href="#">
                <span itemprop="name">Migrer un site web sans interruption de service gr√¢ce au reverse proxy d&#039;Apache.</span>
            </a>
            <meta itemprop="position" content="4" />
        </li></ol>

        
        <div class="article-banner">
            <div
                class="article-banner__cover"
                style="background: #f1f1f1 url('/elao_/pr/642/%2E%2E/../resized/content/images/blog/headers/php_elao_code.jpg/ad710eb269d6ec4e7af9a15e5d2cc9bc.jpg');
    background: #f1f1f1 -webkit-image-set(
        url('/elao_/pr/642/%2E%2E/../resized/content/images/blog/headers/php_elao_code.jpg/ad710eb269d6ec4e7af9a15e5d2cc9bc.jpg') 1x,
        url('/elao_/pr/642/%2E%2E/../resized/content/images/blog/headers/php_elao_code.jpg/90525a0102a9bf8490a5ce44c8bf4aad.jpg') 2x
    );
    background: #f1f1f1 -moz-image-set(
        url('/elao_/pr/642/%2E%2E/../resized/content/images/blog/headers/php_elao_code.jpg/ad710eb269d6ec4e7af9a15e5d2cc9bc.jpg') 1x,
        url('/elao_/pr/642/%2E%2E/../resized/content/images/blog/headers/php_elao_code.jpg/90525a0102a9bf8490a5ce44c8bf4aad.jpg') 2x
    );
    background: #f1f1f1 -ms-image-set(
        url('/elao_/pr/642/%2E%2E/../resized/content/images/blog/headers/php_elao_code.jpg/ad710eb269d6ec4e7af9a15e5d2cc9bc.jpg') 1x,
        url('/elao_/pr/642/%2E%2E/../resized/content/images/blog/headers/php_elao_code.jpg/90525a0102a9bf8490a5ce44c8bf4aad.jpg') 2x
    );
    background: #f1f1f1 image-set(
        url('/elao_/pr/642/%2E%2E/../resized/content/images/blog/headers/php_elao_code.jpg/ad710eb269d6ec4e7af9a15e5d2cc9bc.jpg') 1x,
        url('/elao_/pr/642/%2E%2E/../resized/content/images/blog/headers/php_elao_code.jpg/90525a0102a9bf8490a5ce44c8bf4aad.jpg') 2x
    );"
                data-aos="fade-down"
            ></div>

            <div class="article-info" data-aos="zoom-in">
                                                    <div class="article-author ">
                        <div class="article-author__image">
                                                            <a href="/elao_/pr/642/blog/auteur/gfaivre">
                                    <img     src="/elao_/pr/642/%2E%2E/../resized/content/images/members/avatars/gfaivre.jpg/0b15d32360625605c83c974bf168637b.jpg"
    srcset="
        /elao_/pr/642/%2E%2E/../resized/content/images/members/avatars/gfaivre.jpg/0b15d32360625605c83c974bf168637b.jpg 1x,
        /elao_/pr/642/%2E%2E/../resized/content/images/members/avatars/gfaivre.jpg/f804161347eed9c67c0f2c20a4f1fc65.jpg 2x
    "
 />
                                </a>
                                                    </div>
                        <span class="article-author__info">
                            √âcrit par
                                                            <a href="/elao_/pr/642/blog/auteur/gfaivre">
                                    <strong>Guewen Faivre</strong>
                                </a>
                                                    </span>
                    </div>
                                <div class="article-info__date">
                    <span>Publication <strong>4 mai 2012</strong></span>
                                                        </div>
            </div>

            <div class="article-header" data-aos="zoom-in-up">
                <h1>Migrer un site web sans interruption de service gr√¢ce au reverse proxy d&#039;Apache.</h1>
                <p>Migrer un site web sans interruption de service gr√¢ce au reverse proxy d&#039;Apache.</p>
                <ul class="article-tag-list">
                                            <li class="article-tag-list__item">
                            <a href="/elao_/pr/642/blog/tag/apache" rel="nofollow">#Apache</a>
                        </li>
                                            <li class="article-tag-list__item">
                            <a href="/elao_/pr/642/blog/tag/linux" rel="nofollow">#Linux</a>
                        </li>
                                            <li class="article-tag-list__item">
                            <a href="/elao_/pr/642/blog/tag/trucs-et-astuces" rel="nofollow">#TrucsEtAstuces</a>
                        </li>
                                    </ul>
            </div>
        </div>

        
        <div class="article-content">
            <main class="article-content__main">

                
                
                <p>Bonjour √† tous,</p>
<p>petit m√©mo aujourd'hui concernant la migration d'une application web d'un (ancien) serveur vers un nouveau serveur.
Tout admin syst√®me √† √©t√©, un jour ou l'autre, confront√© √† la probl√©matique du "downtime" ou en bon fran√ßais de l'interruption de service lors du "d√©m√©nagement" d'une application web vers une nouvelle machine.</p>
<p>En effet dans le cas de la modification d'un pointage DNS, celui-ci peut mettre plusieurs heures, voir m√™me une journ√©e √† se propager sur les diff√©rents serveurs de noms.
Pour un site statique cela ne pose gu√®re de probl√®me puisque nous sommes dans une strat√©gie de lecture, par contre pour un site dynamique le d√©lai de propagation peut-√™tre hautement probl√©matique. Il est √©vident que l'on ne peut se permettre d'avoir des √©critures sur l'un et l'autre des serveurs.</p>
<p>Une bonne habitude pour minimiser ce probl√®me est d'utiliser les syst√®mes d'IP failover, qui permettent d'√©viter de faire une modification au niveau du nom de domaine concern√© lors d'une migration applicative.</p>
<blockquote>
<p>Les IP failover sont, pour r√©sumer, des interfaces "virtuelles" qui peuvent √™tre facilement redirig√©es vers une machine physique, OVH propose par exemple ce syst√®me sur tous ses serveurs d√©di√©s. Gr√¢ce √† celles-ci, la probl√©matique du downtime se pose moins, en effet une fois que notre site a √©t√© "d√©m√©nag√©", il suffit de modifier le pointage de cette IP failover sans impact sur le pointage des DNS.</p>
</blockquote>
<p><strong>Cette strat√©gie trouve par contre ses limites dans diff√©rents cas :</strong></p>
<ul>
<li>Si l'on est dans le cas d'un serveur mutualis√© (qui n'h√©berge donc pas qu'une seule application).</li>
<li>S'il est impossible de faire un transfert complet des diff√©rents sites en m√™me temps.</li>
<li>Si l'on ne souhaite tout simplement "d√©m√©nager" qu'une seule application</li>
</ul>
<p>Dans le cas d'applications √† l'architecture complexe pour lesquelles il est quasiment impossible d'assurer le transfert applicatif en une seule fois. On se retrouve donc souvent avec une partie des applications sur la nouvelle machine et le reste sur l'ancienne.</p>
<p>Il est heureusement possible de se servir des serveurs web comme de "reverse proxy".
Dans le cadre de ce m√©mo nous utiliseront <a href="http://httpd.apache.org/" title="Apache" target="_blank">Apache</a> mais il est √©galement possible d'utiliser <a href="http://nginx.com/" title="Nginx" target="_blank">Nginx</a>, voir m√™me <a href="http://www.squid-cache.org/" title="Squid" target="_blank">Squid</a> qui doit √™tre capable de faire du reverse proxy.</p>
<p><strong>Nous partirons du principe que :</strong></p>
<ul>
<li>Votre (vos) application(s) et base(s) de donn√©es ont √©t√© transf√©r√©es sur leur nouveau serveur, que tout fonctionne et que tout a √©t√© v√©rifi√© par qui de droit.</li>
<li>Un nouveau "Virtual Host" (d√©sol√© √ßa ne veux pas avec "H√¥te virtuel" ...), a √©t√© configur√© et est fonctionnel.</li>
<li>Les mods <code class="code-inline" id="431387eb7262e1cfc79b125eb8a67c60">proxy</code> et <code class="code-inline" id="21ca3d34bc556c5e2aa77fdbfb78a618">[proxy_http][4]</code> sont "charg√©s" par Apache sur notre serveur d'origine.</li>
<li>Le site √† d√©placer sera <code class="code-inline" id="e7cbcfb06a5b315657e7f06281d1aed3">www.my-domain.com</code>.</li>
<li>L'IP du "nouveau" serveur sera XXX.XXX.XXX.XXX</li>
</ul>
<p><strong>Tout le reste se passe du cot√© de "l'ancien" serveur, nous commencerons par modifier la r√©solution de nom local concernant le domaine concern√© en √©ditant le fichier <code class="code-inline" id="ad942c725cd0cae65ca4c63717ec464c">/etc/hosts</code> pour y rajouter l'entr√©e suivante :</strong></p>
<blockquote>
<p>XXX.XXX.XXX.XXX www.my-domain.com</p>
</blockquote>
<p>De cette fa√ßon nous for√ßons le pointage de notre domaine vers la nouvelle machine uniquement pour le serveur d'origine.</p>
<p><strong>Nous allons ensuite modifier le "virtual host" original en y ajoutant les lignes suivantes :</strong></p>
<pre class="code-multiline language-apacheconf"><code class="language-apacheconf" id="8b40ac982f6b1701cbdba8da413ac273"><span class="token directive-inline property">ProxyRequests</span> Off
<span class="token directive-block tag"><span class="token directive-block tag"><span class="token punctuation">&lt;</span>Proxy</span><span class="token directive-block-parameter attr-value"> *</span><span class="token punctuation">&gt;</span></span>
  <span class="token directive-inline property">Order</span> <span class="token directive-inline property">deny</span>,allow
  <span class="token directive-inline property">Allow</span> from all
<span class="token directive-block tag"><span class="token directive-block tag"><span class="token punctuation">&lt;/</span>Proxy</span><span class="token punctuation">&gt;</span></span>

<span class="token directive-inline property">ProxyPass</span> / http://www.my-domain.com/
<span class="token directive-inline property">ProxyPassReverse</span> / http://www.my-domain.com/</code></pre>
<p>Il suffit, pour finir, de red√©marrer Apache, le traffic est √† pr√©sent redirig√© vers le nouveau serveur de mani√®re transparente pour l'internaute.
Nous pouvons d√®s lors demander la redirection du nom de domaine vers l'IP du "nouveau" serveur sans se soucier des d√©lais de propagation des serveurs de noms.</p>
<p>Une fois tout cela termin√© jetez de temps en temps un oeil √† vos logs sur le serveur d'origine, une fois que vous constatez que plus aucun traffic n'arrive sur votre ancien serveur c'est que le nom de domaine a √©t√© propag√©.</p>
                                                                </main>
            <aside class="article-content__aside">
                            </aside>
        </div>

        <div class="article-footer" data-aos="fade-in">
                                                <div class="article-author">
                        <div class="article-author__image">
                            <a href="/elao_/pr/642/blog/auteur/gfaivre">
                                <img     src="/elao_/pr/642/%2E%2E/../resized/content/images/members/avatars/gfaivre.jpg/0b15d32360625605c83c974bf168637b.jpg"
    srcset="
        /elao_/pr/642/%2E%2E/../resized/content/images/members/avatars/gfaivre.jpg/0b15d32360625605c83c974bf168637b.jpg 1x,
        /elao_/pr/642/%2E%2E/../resized/content/images/members/avatars/gfaivre.jpg/f804161347eed9c67c0f2c20a4f1fc65.jpg 2x
    "
 />
                            </a>
                        </div>
                        <span class="article-author__info">
                            √âcrit par
                            <a href="/elao_/pr/642/blog/auteur/gfaivre">
                                <strong>Guewen Faivre</strong>
                            </a>
                        </span>

                        <div class="article-author__social">
                                                            <a href="https://twitter.com/guewen_faivre" class="social social--small">
                                    <i class="icon icon--x" aria-hidden="true"></i>
                                    <span class="screen-reader">Compte Twitter de Guewen Faivre</span>
                                </a>
                                                                                        <a href="https://github.com/gfaivre " class="social social--small">
                                    <i class="icon icon--github" aria-hidden="true"></i>
                                    <span class="screen-reader">Compte github de Guewen Faivre</span>
                                </a>
                                                                                        <a href="http://www.elao.com" class="social social--small">
                                    <i class="icon icon--website" aria-hidden="true"></i>
                                    <span class="screen-reader">Site personnel de Guewen Faivre</span>
                                </a>
                                                    </div>
                    </div>
                                    </div>

                <div class="bricks">
            
                            <div class="brick-contribute">
                    <p>
                        Une typo ?
                        <a href="https://github.com/Elao/elao_/edit/arti-bye-bye/content/blog/infra/migrer-un-site-web-sans-interruption-de-service-grace-au-reverse-proxy-dapache.md/" target="_blank" class="animated-link animated-link--light">
                            Modifier cet article sur Github
                        </a>
                    </p>
                </div>
                    </div>
            </div>
        </main>
                    
<footer class="footer">
    <div class="container">
        <section class="footer__links">
            <p class="h1">
                elao
                <span>d√©veloppe</span>
                <span>du lien</span>
            </p>
            <div class="links">
                                    <ul>
                                                    <li>
                                <a href="/elao_/pr/642/nos-services/" >Services</a>
                            </li>
                                                    <li>
                                <a href="/elao_/pr/642/demarche" >D√©marche</a>
                            </li>
                                                    <li>
                                <a href="/elao_/pr/642/etudes-de-cas" >√âtudes de cas</a>
                            </li>
                                            </ul>
                                    <ul>
                                                    <li>
                                <a href="/elao_/pr/642/nos-valeurs" >Valeurs</a>
                            </li>
                                                    <li>
                                <a href="/elao_/pr/642/equipe" >L&#039;√©quipe</a>
                            </li>
                                                    <li>
                                <a href="/elao_/pr/642/blog" >Blog</a>
                            </li>
                                                    <li>
                                <a href="/elao_/pr/642/blog/rss.xml"  data-no-swup="data-no-swup">RSS</a>
                            </li>
                                            </ul>
                                <ul>
                    <li>
                                                <a href="/elao_/pr/642/recrutement">
                            Nous recrutons
                                                            <span class="bullet">2</span>
                                                    </a>
                    </li>
                    <li>
                        <a href="/elao_/pr/642/glossaire/">Glossaire üßê</a>
                    </li>
                    <li>
                        <a href="/elao_/pr/642/elaomojis">Elaomojis üéâ</a>
                    </li>
                </ul>
            </div>
            <div class="socials">
                <ul>
                    <li>
                        <a href="https://github.com/elao" target="_blank">
                            <i class="icon icon--github"></i>
                            Github
                        </a>
                    </li>
                    <li>
                        <a href="https://twitter.com/elao" target="_blank">
                            <i class="icon icon--x"></i>
                            Twitter
                        </a>
                    </li>
                    <li>
                        <a href="https://www.linkedin.com/company/elao/mycompany/" target="_blank">
                            <i class="icon icon--linkedin"></i>
                            Linkedin
                        </a>
                    </li>
                </ul>
            </div>
            <div class="contacts">
                <ul>
                    <li>
                        <a href="/elao_/pr/642/contact">Contact</a>
                    </li>
                    <li>
                        <a href="tel:04 82 53 37 19">04 82 53 37 19</a>
                    </li>
                    <li>
                        <a href="mailto:contact@elao.com">contact@elao.com</a>
                    </li>
                    <li>34 rue Jean Broquin</li>
                    <li>69006 Lyon</li>
                </ul>
            </div>
        </section>

        <section class="footer__legals">
            <span>¬© 2005 - 2024 - ELAO - Tous droits r√©serv√©s</span>
            <a href="/elao_/pr/642/legal">Mentions l√©gales</a>
            <a href="/elao_/pr/642/confidentialite">Protection des donn√©es</a>
            <a id="see" href="#ssss">üêç</a>
        </section>
    </div>
</footer>

            </body>
</html>
