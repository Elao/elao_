<!DOCTYPE html>
<html lang="fr" class="no-js">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Commander au clavier une application Symfony grâce au Routing</title>

        <!-- Favicon -->
        <link rel="apple-touch-icon" sizes="180x180" href="/elao_/pr/655/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/elao_/pr/655/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/elao_/pr/655/favicon-16x16.png">
        <link rel="manifest" href="/elao_/pr/655/site.webmanifest">
        <link rel="mask-icon" href="/elao_/pr/655/safari-pinned-tab.svg" color="#ff4344">
        <link rel="shortcut icon" href="/elao_/pr/655/favicon.ico">
        <meta name="msapplication-TileColor" content="#ff4344">
        <meta name="msapplication-config" content="/elao_/pr/655/browserconfig.xml">
        <meta name="theme-color" content="#ffffff">

                    <meta name="description" content="Comment ajouter à une application Symfony une UI différente, une interface de commande par texte avec autocompletion." />
            <link rel="canonical" href="https://elao.github.io/elao_/pr/655/blog/dev/commander-au-clavier-app-symfony-grace-au-routing" />

            <!-- Open Graph / Facebook -->
            <meta property="og:title" content="Commander au clavier une application Symfony grâce au Routing" />
            <meta property="og:locale" content="fr" />
            <meta property="og:description" content="Comment ajouter à une application Symfony une UI différente, une interface de commande par texte avec autocompletion." />
            <meta property="og:url" content="https://elao.github.io/elao_/pr/655/blog/dev/commander-au-clavier-app-symfony-grace-au-routing" />
            <meta property="og:site_name" content="elao_" />

                                        <meta property="og:image" content="https://elao.github.io/elao_/pr/655/%2E%2E/../resized/content/images/blog/2018/commander-au-clavier-app-symfony-grace-au-routing/thumbnail.jpg/51589ade28108ee836bab09ac7b6d074.jpg">
            
            <!-- Twitter -->
            <meta property="twitter:card" content="summary_large_image">
            <meta property="twitter:title" content="Commander au clavier une application Symfony grâce au Routing">
            <meta property="twitter:description" content="Comment ajouter à une application Symfony une UI différente, une interface de commande par texte avec autocompletion.">
            <meta property="twitter:site" content="@elao">
            <meta property="twitter:creator" content="@elao">
                                        <meta property="twitter:image" content="https://elao.github.io/elao_/pr/655/%2E%2E/../resized/content/images/blog/2018/commander-au-clavier-app-symfony-grace-au-routing/thumbnail.jpg/cbc12cb9261338976951a44a75cc4987.jpg">
                            <link rel="alternate" type="application/rss+xml" href="/elao_/pr/655/blog/rss.xml" title="Le blog de l'équipe d'Elao" />
        
                <script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "NewsArticle",
    "headline": "Commander au clavier une application Symfony grâce au Routing",
    "image": [
        "https://elao.github.io/elao_/pr/655/blog/dev/content/images/blog/2018/commander-au-clavier-app-symfony-grace-au-routing/thumbnail.jpg"
    ],
    "datePublished": "2018-10-25T00:00:00+00:00",
    "dateModified": "2018-10-25T00:00:00+00:00",
    "author": [
        {
            "@type": "Person",
            "name": "Richard Hanna",
            "url": "https://elao.github.io/elao_/pr/655/equipe"
        }
    ],
    "keywords": [
        "Symfony",
        "Routing",
        "Ux"
    ]
}
    </script>
    
                            <meta name="robots" content="noindex" />
        
        <script>
                        document.querySelector('html').classList.remove('no-js');
        </script>

                    <link rel="stylesheet" href="/elao_/pr/655/build/app.9201bedf.css">
        
                        <script src="/elao_/pr/655/build/runtime.4c8270ac.js" defer></script><script src="/elao_/pr/655/build/552.3082ae9c.js" defer></script><script src="/elao_/pr/655/build/769.7dfbbe52.js" defer></script><script src="/elao_/pr/655/build/app.d906f729.js" defer></script>

                    

    <script src="https://platform.twitter.com/widgets.js"></script>
    <script async defer src="//platform.instagram.com/en_US/embeds.js"></script>

    <script>
        window.onload = (function(){
            var tweets = document.querySelectorAll('.tweet-container');
            tweets.forEach(function(tweet) {
                // https://developer.twitter.com/en/docs/twitter-for-websites/embedded-tweets/guides/embedded-tweet-parameter-reference
                twttr.widgets.createTweet(tweet.getAttribute('data-tweet-id'), tweet, {
                    conversation: 'none',
                    cards: 'hidden',
                    theme: 'light',
                    lang: 'fr',
                    align: 'center',
                    width: 550, // default
                    dnt: true,
                })
            })
        });
    </script>

        <!-- S.E.E. -->
        <meta name="see" content="&#x5B;&quot;&#x5C;&#x2F;elao_&#x5C;&#x2F;pr&#x5C;&#x2F;655&#x5C;&#x2F;build&#x5C;&#x2F;see.ace7bf9f.js&quot;&#x5D;">
        <meta name="see_style" content="&#x5B;&quot;&#x5C;&#x2F;elao_&#x5C;&#x2F;pr&#x5C;&#x2F;655&#x5C;&#x2F;build&#x5C;&#x2F;see.d77e78f8.css&quot;&#x5D;">
    </head>
    <body
        data-controller="swup-plugins symfony--ux-swup--swup swup-matomo" data-symfony--ux-swup--swup-containers-value="&#x5B;&quot;&#x23;main&quot;,&quot;&#x23;nav&quot;&#x5D;" data-symfony--ux-swup--swup-cache-value="true" data-symfony--ux-swup--swup-animate-history-browsing-value="true" data-symfony--ux-swup--swup-debug-value="false" data-symfony--ux-swup--swup-link-selector-value="a&#x5B;href&#x5E;&#x3D;&quot;https&#x3A;&#x2F;&#x2F;elao.github.io&#x2F;elao_&#x2F;pr&#x2F;655&quot;&#x5D;&#x3A;not&#x28;&#x5B;data-no-swup&#x5D;&#x29;&#x3A;not&#x28;&#x5B;target&#x3D;&quot;_blank&quot;&#x5D;&#x29;&#x3A;not&#x28;a&#x5B;href&#x5E;&#x3D;&quot;https&#x3A;&#x2F;&#x2F;elao.github.io&#x2F;elao_&#x2F;pr&#x2F;655&#x2F;_profiler&quot;&#x5D;&#x29;,a&#x5B;href&#x5E;&#x3D;&quot;&#x2F;&quot;&#x5D;&#x3A;not&#x28;&#x5B;data-no-swup&#x5D;&#x29;&#x3A;not&#x28;&#x5B;target&#x3D;&quot;_blank&quot;&#x5D;&#x29;&#x3A;not&#x28;a&#x5B;href&#x5E;&#x3D;&quot;https&#x3A;&#x2F;&#x2F;elao.github.io&#x2F;elao_&#x2F;pr&#x2F;655&#x2F;_profiler&quot;&#x5D;&#x29;" data-swup-matomo-enabled-value="false">
                    <header id="nav" class="header">
                <div class="container">
                    <!--
                        Todo :
                        - only on homepage : on scroll .logo.logo--animated becomes .logo.logo--animated.logo--active (triggers its animation)
                     -->
                    <a href="/elao_/pr/655/">
                        <span class="screen-reader">Commander au clavier une application Symfony grâce au Routing</span>
                                                    <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 300 100" class="logo logo--animated">
                                <path d="M61.6,61.6H19.7C21,69,24.8,72.2,32.6,72.2c5.9,0,8.8-1.9,11.7-7.8l16.1,6.9C56.2,82,46.9,87.8,32.1,87.8
                                    c-19.1,0-32-12.6-32-31.6c0-19.5,12.6-32.6,31.4-32.6c18.1,0,30.3,12.6,30.3,31.6C61.7,57.2,61.7,58.9,61.6,61.6z M19.6,49.3h23.6
                                    c-0.2-7.9-4.1-10.9-11.3-10.9S20.7,41.8,19.6,49.3z"/>
                                <path d="M71.2,0.1H90v86.5H71.2V0.1z"/>
                                <path d="M166.1,24.7v61.8h-18.8V72.7c-3.5,9.8-10.5,15.1-20.4,15.1c-17.7,0-27.4-12.9-27.4-32
                                    c0-19.4,9.3-32.2,26.2-32.2c10.5,0,18,5.4,21.6,15.6V24.7H166.1z M147.9,55.7c0-10.4-4.8-15.2-15.1-15.2c-9.9,0-14.6,4.8-14.6,15.2
                                    c0,10.1,4.7,14.9,14.6,14.9C143.1,70.7,147.9,65.9,147.9,55.7L147.9,55.7z"/>
                                <path d="M242.8,55.8c0,19.9-15.3,32-33.6,32s-33.6-12.1-33.6-32s15.3-32.2,33.6-32.2S242.8,35.8,242.8,55.8z M224,55.8
                                    c0-10.4-4.7-15.2-14.8-15.2c-10.1,0-14.8,4.8-14.8,15.2c0,10.1,4.7,14.9,14.8,14.9S224,65.9,224,55.8L224,55.8z"/>
                                <rect x="243.1" y="86.5" width="56.7" height="15"/>
                            </svg>
                                            </a>

                                            <!-- Desktop nav -->
                        <nav class="nav">
                            <ul>
                                                                    <li class="nav__item ">
                                        <a href="/elao_/pr/655/nos-services/">
                                                                                        <span>Services</span>
                                        </a>
                                    </li>
                                                                    <li class="nav__item ">
                                        <a href="/elao_/pr/655/demarche">
                                                                                        <span>Démarche</span>
                                        </a>
                                    </li>
                                                                    <li class="nav__item ">
                                        <a href="/elao_/pr/655/etudes-de-cas">
                                                                                        <span>Études de cas</span>
                                        </a>
                                    </li>
                                                                    <li class="nav__item ">
                                        <a href="/elao_/pr/655/nos-valeurs">
                                                                                        <span>Valeurs</span>
                                        </a>
                                    </li>
                                                                    <li class="nav__item ">
                                        <a href="/elao_/pr/655/equipe">
                                                                                        <span>L&#039;équipe</span>
                                        </a>
                                    </li>
                                                                    <li class="nav__item nav__item--active">
                                        <a href="/elao_/pr/655/blog">
                                                                                        <span>Blog</span>
                                        </a>
                                    </li>
                                                                    <li class="nav__item ">
                                        <a href="/elao_/pr/655/contact">
                                                                                            <i class="icon icon--contact" aria-hidden="true"></i>
                                                                                        <span>Contact</span>
                                        </a>
                                    </li>
                                                            </ul>
                        </nav>
                    
                                            <!-- Mobile nav -->
                        <nav class="nav-mobile" data-controller="toggle">
                            <div class="nav-mobile__header">
                                <a href="/elao_/pr/655/">
                                                                <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 300 100" class="logo logo--animated">
                                <path d="M61.6,61.6H19.7C21,69,24.8,72.2,32.6,72.2c5.9,0,8.8-1.9,11.7-7.8l16.1,6.9C56.2,82,46.9,87.8,32.1,87.8
                                    c-19.1,0-32-12.6-32-31.6c0-19.5,12.6-32.6,31.4-32.6c18.1,0,30.3,12.6,30.3,31.6C61.7,57.2,61.7,58.9,61.6,61.6z M19.6,49.3h23.6
                                    c-0.2-7.9-4.1-10.9-11.3-10.9S20.7,41.8,19.6,49.3z"/>
                                <path d="M71.2,0.1H90v86.5H71.2V0.1z"/>
                                <path d="M166.1,24.7v61.8h-18.8V72.7c-3.5,9.8-10.5,15.1-20.4,15.1c-17.7,0-27.4-12.9-27.4-32
                                    c0-19.4,9.3-32.2,26.2-32.2c10.5,0,18,5.4,21.6,15.6V24.7H166.1z M147.9,55.7c0-10.4-4.8-15.2-15.1-15.2c-9.9,0-14.6,4.8-14.6,15.2
                                    c0,10.1,4.7,14.9,14.6,14.9C143.1,70.7,147.9,65.9,147.9,55.7L147.9,55.7z"/>
                                <path d="M242.8,55.8c0,19.9-15.3,32-33.6,32s-33.6-12.1-33.6-32s15.3-32.2,33.6-32.2S242.8,35.8,242.8,55.8z M224,55.8
                                    c0-10.4-4.7-15.2-14.8-15.2c-10.1,0-14.8,4.8-14.8,15.2c0,10.1,4.7,14.9,14.8,14.9S224,65.9,224,55.8L224,55.8z"/>
                                <rect x="243.1" y="86.5" width="56.7" height="15"/>
                            </svg>
                        
                                </a>
                                <button class="nav-toggle nav-toggle--close">
                                    <i class="icon icon--close" aria-hidden="true"></i>
                                    <span class="screen-reader">Fermer le menu</span>
                                </button>
                            </div>
                            <ul>
                                                                    <li class="nav-mobile__item  ">
                                        <a href="/elao_/pr/655/nos-services/">
                                                                                        <span>Services</span>
                                        </a>
                                    </li>
                                                                    <li class="nav-mobile__item  ">
                                        <a href="/elao_/pr/655/demarche">
                                                                                        <span>Démarche</span>
                                        </a>
                                    </li>
                                                                    <li class="nav-mobile__item  ">
                                        <a href="/elao_/pr/655/etudes-de-cas">
                                                                                        <span>Études de cas</span>
                                        </a>
                                    </li>
                                                                    <li class="nav-mobile__item  ">
                                        <a href="/elao_/pr/655/nos-valeurs">
                                                                                        <span>Valeurs</span>
                                        </a>
                                    </li>
                                                                    <li class="nav-mobile__item  ">
                                        <a href="/elao_/pr/655/equipe">
                                                                                        <span>L&#039;équipe</span>
                                        </a>
                                    </li>
                                                                    <li class="nav-mobile__item nav-mobile__item--active ">
                                        <a href="/elao_/pr/655/blog">
                                                                                        <span>Blog</span>
                                        </a>
                                    </li>
                                                                    <li class="nav-mobile__item  nav-mobile__item--large">
                                        <a href="/elao_/pr/655/contact">
                                                                                            <i class="icon icon--contact" aria-hidden="true"></i>
                                                                                        <span>Contact</span>
                                        </a>
                                    </li>
                                                            </ul>
                        </nav>
                        <button class="nav-toggle nav-toggle--open">
                            <i class="icon icon--hamburger" aria-hidden="true"></i>
                            <span class="screen-reader">Ouvrir le menu</span>
                        </button>
                                    </div>
            </header>
                <main id="main">
                <div class="container">
                                <ol class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
            <li class="breadcrumb__item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
            <a itemprop="item" href="/elao_/pr/655/">
                <span itemprop="name">Accueil</span>
            </a>
            <meta itemprop="position" content="1" />
        </li>        <li class="breadcrumb__item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
            <a itemprop="item" href="/elao_/pr/655/blog">
                <span itemprop="name">Blog</span>
            </a>
            <meta itemprop="position" content="2" />
        </li>        <li class="breadcrumb__item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
            <a itemprop="item" href="/elao_/pr/655/blog/dev">
                <span itemprop="name">Dev</span>
            </a>
            <meta itemprop="position" content="3" />
        </li>        <li class="breadcrumb__item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
            <a itemprop="item" href="#">
                <span itemprop="name">Commander au clavier une application Symfony grâce au Routing</span>
            </a>
            <meta itemprop="position" content="4" />
        </li></ol>

        
        <div class="article-banner">
            <div
                class="article-banner__cover"
                style="background: #f1f1f1 url('/elao_/pr/655/%2E%2E/../resized/content/images/blog/2018/commander-au-clavier-app-symfony-grace-au-routing/header.jpg/5ea25328b70015e313dd08f573d26251.jpg');
    background: #f1f1f1 -webkit-image-set(
        url('/elao_/pr/655/%2E%2E/../resized/content/images/blog/2018/commander-au-clavier-app-symfony-grace-au-routing/header.jpg/5ea25328b70015e313dd08f573d26251.jpg') 1x,
        url('/elao_/pr/655/%2E%2E/../resized/content/images/blog/2018/commander-au-clavier-app-symfony-grace-au-routing/header.jpg/c90ceba50a21887eb73c86a131177974.jpg') 2x
    );
    background: #f1f1f1 -moz-image-set(
        url('/elao_/pr/655/%2E%2E/../resized/content/images/blog/2018/commander-au-clavier-app-symfony-grace-au-routing/header.jpg/5ea25328b70015e313dd08f573d26251.jpg') 1x,
        url('/elao_/pr/655/%2E%2E/../resized/content/images/blog/2018/commander-au-clavier-app-symfony-grace-au-routing/header.jpg/c90ceba50a21887eb73c86a131177974.jpg') 2x
    );
    background: #f1f1f1 -ms-image-set(
        url('/elao_/pr/655/%2E%2E/../resized/content/images/blog/2018/commander-au-clavier-app-symfony-grace-au-routing/header.jpg/5ea25328b70015e313dd08f573d26251.jpg') 1x,
        url('/elao_/pr/655/%2E%2E/../resized/content/images/blog/2018/commander-au-clavier-app-symfony-grace-au-routing/header.jpg/c90ceba50a21887eb73c86a131177974.jpg') 2x
    );
    background: #f1f1f1 image-set(
        url('/elao_/pr/655/%2E%2E/../resized/content/images/blog/2018/commander-au-clavier-app-symfony-grace-au-routing/header.jpg/5ea25328b70015e313dd08f573d26251.jpg') 1x,
        url('/elao_/pr/655/%2E%2E/../resized/content/images/blog/2018/commander-au-clavier-app-symfony-grace-au-routing/header.jpg/c90ceba50a21887eb73c86a131177974.jpg') 2x
    );"
                data-aos="fade-down"
            ></div>

            <div class="article-info" data-aos="zoom-in">
                                                    <div class="article-author ">
                        <div class="article-author__image">
                                                            <a>
                                    <img     src="/elao_/pr/655/%2E%2E/../resized/content/images/members/avatars/rhanna.jpg/48b4d8efbc2f597dab26fcb1ed88d540.jpg"
    srcset="
        /elao_/pr/655/%2E%2E/../resized/content/images/members/avatars/rhanna.jpg/48b4d8efbc2f597dab26fcb1ed88d540.jpg 1x,
        /elao_/pr/655/%2E%2E/../resized/content/images/members/avatars/rhanna.jpg/595ecfd31fcd439bed40e88acab04bb4.jpg 2x
    "
 />
                                </a>
                                                    </div>
                        <span class="article-author__info">
                            Écrit par
                                                            <a href="/elao_/pr/655/blog/auteur/rhanna">
                                    <strong>Richard Hanna</strong>
                                </a>
                                                    </span>
                    </div>
                                <div class="article-info__date">
                    <span>Publication <strong>25 octobre 2018</strong></span>
                                                        </div>
            </div>

            <div class="article-header" data-aos="zoom-in-up">
                <h1>Commander au clavier une application Symfony grâce au Routing</h1>
                <p>Comment ajouter à une application Symfony une UI différente, une interface de commande par texte avec autocompletion.</p>
                <ul class="article-tag-list">
                                            <li class="article-tag-list__item">
                            <a href="/elao_/pr/655/blog/tag/symfony" rel="nofollow">#Symfony</a>
                        </li>
                                            <li class="article-tag-list__item">
                            <a href="/elao_/pr/655/blog/tag/routing" rel="nofollow">#Routing</a>
                        </li>
                                            <li class="article-tag-list__item">
                            <a href="/elao_/pr/655/blog/tag/ux" rel="nofollow">#Ux</a>
                        </li>
                                    </ul>
            </div>
        </div>

                    <ol class="table-of-content" data-aos="fade-up">
                                    <li class="table-of-content__item">
                        <a href="#le-contexte">Le contexte</a>

                                            </li>
                                    <li class="table-of-content__item">
                        <a href="#exploiter-le-routing-de-symfony">Exploiter le routing de Symfony ?</a>

                                            </li>
                                    <li class="table-of-content__item">
                        <a href="#deviner-des-parametres-de-route">Deviner des paramètres de route</a>

                                            </li>
                                    <li class="table-of-content__item">
                        <a href="#ameliorations">Améliorations</a>

                                            </li>
                                    <li class="table-of-content__item">
                        <a href="#bilan">Bilan</a>

                                            </li>
                                    <li class="table-of-content__item">
                        <a href="#commander-par-la-voix">Commander par la voix ?</a>

                                            </li>
                            </ol>
        
        <div class="article-content">
            <main class="article-content__main">

                
                
                <p>Lorsqu'une application comporte des centaines de fonctionnalités et des millions de lignes en base de données,
il est souvent fastidieux d'accéder à une information.
Il faut choisir le bon élément dans un menu, chercher dans une liste, cliquer sur modifier, accéder à un formulaire
pour enfin pouvoir modifier une donnée.</p>
<p>Nous allons voir comment on peut ajouter à une application Symfony une UI différente,
une interface de commande par texte avec autocompletion.</p>
<h2 id="le-contexte" class="anchor-title"><a href="#le-contexte">Le contexte</a></h2>
<img src="/elao_/pr/655/%2E%2E/../resized/content/images/blog/2018/commander-au-clavier-app-symfony-grace-au-routing/backoffice.png/8b62fa4a07c9e3be8965f95f244b03c1.png" alt="Interface d'administration" srcset="/elao_/pr/655/%2E%2E/../resized/content/images/blog/2018/commander-au-clavier-app-symfony-grace-au-routing/backoffice.png/8b62fa4a07c9e3be8965f95f244b03c1.png 1x,
/elao_/pr/655/%2E%2E/../resized/content/images/blog/2018/commander-au-clavier-app-symfony-grace-au-routing/backoffice.png/e48c89d57427f3b1de352b7059e4ff39.png 2x," id="interface-d-administration">
<p>Ceci est une capture d'écran d'interface d'administration d'une application classique.
Il y a des listes, des boutons, des menus...
Pour accéder à une ressource ou à une fonctionnalité, plusieurs clics sont nécessaires.</p>
<p>Et si on avait une <strong>UI différente</strong> ?</p>
<p>Dans notre temps dédié aux <em>side projects</em>, nous avons eu l'idée de voir ce qu'on pouvait faire pour accéder
plus rapidement et plus efficacement aux ressources d'une application.</p>
<p>S'inspirer des <strong>suggestions de résultats</strong> comme sur Google, Spotlight ou Alfred sous Mac ?</p>
<p>Exemple lorsqu'on tape "Modifier document" sur Google :</p>
<p class="text-center">
    <img src="/elao_/pr/655/%2E%2E/../resized/content/images/blog/2018/commander-au-clavier-app-symfony-grace-au-routing/search.png/570f54d12aff9bf5a8df5a8e43e7001b.png" alt="Recherche avec suggestion de résultats" srcset="/elao_/pr/655/%2E%2E/../resized/content/images/blog/2018/commander-au-clavier-app-symfony-grace-au-routing/search.png/570f54d12aff9bf5a8df5a8e43e7001b.png 1x,
/elao_/pr/655/%2E%2E/../resized/content/images/blog/2018/commander-au-clavier-app-symfony-grace-au-routing/search.png/4c8f2a1cececed7f12aa2ba40b922c3e.png 2x," id="recherche-avec-suggestion-de-resultats">
</p>
<p>Cela serait pas mal d'avoir la même chose dans notre application, n'est-ce pas ?</p>
<h2 id="exploiter-le-routing-de-symfony" class="anchor-title"><a href="#exploiter-le-routing-de-symfony">Exploiter le routing de Symfony ?</a></h2>
<p>Symfony dispose des commandes <em>Console</em> mais cette interface est dédiée aux développeurs.
L'idée est d'avoir un moteur de recherche dans le navigateur qui suggère des résultats qui irait piocher dans notre
application sans forcément écrire complètement une API côté Backend. Et pourquoi pas exploiter le <em>Routing</em> de Symfony ?
Nous allons voir pas à pas comment nous avons exploité le <em>routing</em> pour répondre à notre besoin.</p>
<h3 id="recuperer-toutes-les-routes-de-l-application" class="anchor-title"><a href="#recuperer-toutes-les-routes-de-l-application">Récupérer toutes les routes de l'application</a></h3>
<pre class="code-multiline language-php"><code class="language-php" id="336b82c393fc5e1187ca218c08887030"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">use</span> <span class="token package">Symfony<span class="token punctuation">\</span>Component<span class="token punctuation">\</span>Routing<span class="token punctuation">\</span>Route</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Symfony<span class="token punctuation">\</span>Component<span class="token punctuation">\</span>Routing<span class="token punctuation">\</span>RouterInterface</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">AllRoutesResolver</span>
<span class="token punctuation">{</span>
    <span class="token doc-comment comment">/** <span class="token keyword">@var</span> <span class="token class-name">RouterInterface</span> */</span>
    <span class="token keyword">private</span> <span class="token variable">$router</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token class-name type-declaration">RouterInterface</span> <span class="token variable">$router</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token this keyword">$this</span><span class="token operator">-&gt;</span><span class="token property">router</span> <span class="token operator">=</span> <span class="token variable">$router</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * <span class="token keyword">@return</span> <span class="token class-name">Route<span class="token punctuation">[</span><span class="token punctuation">]</span></span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">getAllRoutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">array</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token this keyword">$this</span><span class="token operator">-&gt;</span><span class="token property">router</span><span class="token operator">-&gt;</span><span class="token function">getRouteCollection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></code></pre>
<p>Cela donne comme résultat :</p>
<p class="text-center">
    <img src="/elao_/pr/655/%2E%2E/../resized/content/images/blog/2018/commander-au-clavier-app-symfony-grace-au-routing/all-routes-dump.png/2f064cd00847da49da8ef6255112de71.png" alt="Dump de *routes* les *routes* de l'application" style="width: 50%" srcset="/elao_/pr/655/%2E%2E/../resized/content/images/blog/2018/commander-au-clavier-app-symfony-grace-au-routing/all-routes-dump.png/2f064cd00847da49da8ef6255112de71.png 1x,
/elao_/pr/655/%2E%2E/../resized/content/images/blog/2018/commander-au-clavier-app-symfony-grace-au-routing/all-routes-dump.png/10ac33a02eede661787c6dede4410ae8.png 2x," id="dump-de-routes-les-routes-de-l-application">
</p>
<p>Filtrons maintenant les <em>routes</em> en ne gardant que les <em>routes</em> avec méthode GET :</p>
<pre class="code-multiline language-php"><code class="language-php" id="e942fcea16b842aa3c26305edd48de61"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
    <span class="token comment">// ...</span>
    <span class="token keyword">return</span> <span class="token function">array_filter</span><span class="token punctuation">(</span>
        <span class="token this keyword">$this</span><span class="token operator">-&gt;</span><span class="token property">router</span><span class="token operator">-&gt;</span><span class="token function">getRouteCollection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Route</span> <span class="token variable">$route</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function"><span class="token punctuation">\</span>in_array</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'GET'</span><span class="token punctuation">,</span> <span class="token variable">$route</span><span class="token operator">-&gt;</span><span class="token function">getMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre>
<h3 id="humaniser-les-noms-de-route" class="anchor-title"><a href="#humaniser-les-noms-de-route">Humaniser les noms de route</a></h3>
<p>Maintenant qu'on a toutes les <em>routes</em> de l'application, il faut pouvoir les proposer de manière lisible à un
utilisateur non-développeur.
L'idée est de transformer le nom de chaque <em>route</em> en libellé "humanisé" :</p>
<ul>
<li>admin_user_list ➡ User list</li>
<li>admin_user_create ➡ User create</li>
<li>admin_generate_invoice_for_order ➡ Generate invoice for Order</li>
</ul>
<p>Pour obtenir ce résultat, on a simplement supprimé le préfixe <code class="code-inline" id="a1debe4d85ce0ffd022b9f4066c8d8ec">admin_</code> et les <code class="code-inline" id="b14a7b8059d9c055954c92674ce60032">_</code>, puis mis la première lettre en
majuscule.</p>
<h3 id="generer-l-url" class="anchor-title"><a href="#generer-l-url">Générer l'url</a></h3>
<p>Pour générer l'url à partir d'une route, rien de plus trivial :</p>
<pre class="code-multiline language-php"><code class="language-php" id="19276732e5d267432ac3e20e52a9031c"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
    <span class="token doc-comment comment">/** <span class="token keyword">@var</span> <span class="token class-name">RouterInterface</span> <span class="token parameter">$router</span> */</span>
    <span class="token keyword">return</span> <span class="token variable">$router</span><span class="token operator">-&gt;</span><span class="token function">generate</span><span class="token punctuation">(</span><span class="token variable">$routeName</span><span class="token punctuation">,</span> <span class="token variable">$parameters</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre>
<p>On créé des vues contenant le libellé et l'url et cela donne quelque chose comme ça :</p>
<pre class="code-multiline"><code id="f8ae481558682e4459262bf86ae41fb5">array:140 [▼
  0 =&gt; ResultView {#1388 ▼
    +label: "User list"
    +routeName: "admin_user_list"
    +url: "/user/list"</code></pre>
<h3 id="demo" class="anchor-title"><a href="#demo">Démo</a></h3>
<p>Pour le widget côté navigateur permettant à l'utilisateur de faire sa recherche et d'avoir des suggestions de résultats,
nous avons choisi une librairie assez légère et facilement configurable, notamment au niveau de la source de données :
<a href="https://github.com/Pixabay/JavaScript-autoComplete" target="_blank">Pixabay/JavaScript-autoComplete</a>.</p>
<p>Et cela donne comme résultat :</p>
<p class="text-center">
    <img src="/elao_/pr/655/%2E%2E/../resized/content/images/blog/2018/commander-au-clavier-app-symfony-grace-au-routing/demo1.gif/4b0d94747d1b7d9f1a5db137cec42865.gif" alt="Démo" id="demo">
</p>
<h2 id="deviner-des-parametres-de-route" class="anchor-title"><a href="#deviner-des-parametres-de-route">Deviner des paramètres de route</a></h2>
<p>Que faire maintenant si nos <em>routes</em> attendent des paramètres ? En terme d'expérience utilisateur, on souhaite que
l'application nous suggère des résultats. Par exemple, si on tape "User update", l'application nous propose l'ensemble
des utilisateurs pouvant être modifiés :</p>
<pre class="code-multiline"><code id="e1c68eca15840fcf3518fa6cd5a11b9d">➡ User update Korben
➡ User update Leeloo
➡ User update Cornelius</code></pre>
<p>Cela signifie que côté frontend, lorsqu'on aura tapé "User update" + un espace (très important l'espace),
une requête XMLHttpRequest (Ajax pour les intimes) sera déclenchée afin de récupérer les <em>routes</em> contenant
les noms des utilisateurs.</p>
<h3 id="recuperer-les-requirements-d-une-route" class="anchor-title"><a href="#recuperer-les-requirements-d-une-route">Récupérer les requirements d'une route</a></h3>
<p>Considérons que l'on a cette <em>route</em> :</p>
<pre class="code-multiline language-yaml"><code class="language-yaml" id="d3e33de1ec4c5ac3d34004a49134b355"><span class="token comment"># Routing</span>
<span class="token key atrule">admin_user_update</span><span class="token punctuation">:</span>
    <span class="token key atrule">path</span><span class="token punctuation">:</span> /user/update/<span class="token punctuation">{</span>user<span class="token punctuation">}</span>
    <span class="token key atrule">methods</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>GET<span class="token punctuation">,</span> POST<span class="token punctuation">]</span>
    <span class="token key atrule">requirements</span><span class="token punctuation">:</span>
        <span class="token key atrule">user</span><span class="token punctuation">:</span> \d+
    <span class="token key atrule">defaults</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token key atrule">_controller</span><span class="token punctuation">:</span> AdminBundle<span class="token punctuation">:</span>User<span class="token punctuation">:</span>update <span class="token punctuation">}</span></code></pre>
<p>Notre <em>requirement</em> apparaît être un paramètre <code class="code-inline" id="ee11cbb19052e40b07aac0ca060c23ee">user</code> qui est de type numérique.</p>
<p>Dans notre <em>controller</em>, le paramètre <code class="code-inline" id="ee11cbb19052e40b07aac0ca060c23ee">user</code> va être transformé grâce au <code class="code-inline" id="fa5eab9c41d747d87b1d82bca4a1c893">ParamConverter</code> de Symfony en objet
de la classe <code class="code-inline" id="8f9bfe9d1345237cb3b2b205864da075">User</code> :</p>
<pre class="code-multiline language-php"><code class="language-php" id="b5903692b2898b9ee22a5d9f212a3f50"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">UserController</span> <span class="token keyword">extends</span> <span class="token class-name">Controller</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">updateAction</span><span class="token punctuation">(</span><span class="token class-name type-declaration">Request</span> <span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">User</span> <span class="token variable">$user</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token class-name return-type">Response</span>
    <span class="token punctuation">{</span></span></code></pre>
<p>Ou ici avec un <em>invokable controller</em> (<em>Action Domain Response pattern</em>) :</p>
<pre class="code-multiline language-php"><code class="language-php" id="9e6c319fa939b64bc2aec05a7b1f6e81"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">UpdateUserAction</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__invoke</span><span class="token punctuation">(</span><span class="token class-name type-declaration">Request</span> <span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">User</span> <span class="token variable">$user</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token class-name return-type">Response</span>
    <span class="token punctuation">{</span></span></code></pre>
<p>Par le code, récupérer les <em>requirements</em> d'une <em>route</em> :</p>
<pre class="code-multiline language-php"><code class="language-php" id="250fba4f827bbf6074280f2f9484f287"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">getRequirements</span><span class="token punctuation">(</span><span class="token class-name type-declaration">Route</span> <span class="token variable">$route</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">array</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">array_keys</span><span class="token punctuation">(</span><span class="token variable">$route</span><span class="token operator">-&gt;</span><span class="token function">getRequirements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></span></code></pre>
<p>On sait ainsi par le code que la <em>route</em> <code class="code-inline" id="d849458fd3aff9876d7908c37546a4f5">admin_user_update</code> a pour <em>requirement</em>, un paramètre <code class="code-inline" id="ee11cbb19052e40b07aac0ca060c23ee">user</code>.</p>
<h3 id="recuperer-les-metadata-du-controller-d-une-route" class="anchor-title"><a href="#recuperer-les-metadata-du-controller-d-une-route">Récupérer les metadata du controller d'une route</a></h3>
<p>Le principe est de récupérer les arguments d'un <em>controller</em> d'une <em>route</em> et de voir de quelle classe
il s'agit.</p>
<p>On a besoin de deux choses :</p>
<ol>
<li>Récupérer le <em>controller</em> d'une <em>route</em> :</li>
</ol>
<pre class="code-multiline language-php"><code class="language-php" id="f4ca91954cf26dc7949ceb2b1c5610e5"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token doc-comment comment">/** <span class="token keyword">@var</span> <span class="token class-name">Symfony<span class="token punctuation">\</span>Component<span class="token punctuation">\</span>HttpKernel<span class="token punctuation">\</span>Controller<span class="token punctuation">\</span>ControllerResolverInterface</span> <span class="token parameter">$controllerResolver</span> */</span>
<span class="token variable">$controllerResolver</span><span class="token operator">-&gt;</span><span class="token function">getController</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre>
<ol start="2">
<li>Récupérer les metadata des arguments d'un <em>controller</em> :</li>
</ol>
<pre class="code-multiline language-php"><code class="language-php" id="f18b75d345f11ad4e40f1d6c7e258987"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token doc-comment comment">/** <span class="token keyword">@var</span> <span class="token class-name">Symfony<span class="token punctuation">\</span>Component<span class="token punctuation">\</span>HttpKernel<span class="token punctuation">\</span>ControllerMetadata<span class="token punctuation">\</span>ArgumentMetadataFactoryInterface</span> <span class="token parameter">$argumentMetadataFactory</span> */</span>
<span class="token variable">$argumentMetadataFactory</span><span class="token operator">-&gt;</span><span class="token function">createArgumentMetadata</span><span class="token punctuation">(</span><span class="token variable">$controller</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre>
<p>Et le code complet donne cela :</p>
<pre class="code-multiline language-php"><code class="language-php" id="b08cc893d51ed2430e2b70e61933d561"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">use</span> <span class="token package">Symfony<span class="token punctuation">\</span>Component<span class="token punctuation">\</span>HttpFoundation<span class="token punctuation">\</span>Request</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Symfony<span class="token punctuation">\</span>Component<span class="token punctuation">\</span>HttpKernel<span class="token punctuation">\</span>Controller<span class="token punctuation">\</span>ControllerResolverInterface</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Symfony<span class="token punctuation">\</span>Component<span class="token punctuation">\</span>HttpKernel<span class="token punctuation">\</span>ControllerMetadata<span class="token punctuation">\</span>ArgumentMetadata</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Symfony<span class="token punctuation">\</span>Component<span class="token punctuation">\</span>HttpKernel<span class="token punctuation">\</span>ControllerMetadata<span class="token punctuation">\</span>ArgumentMetadataFactoryInterface</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Symfony<span class="token punctuation">\</span>Component<span class="token punctuation">\</span>Routing<span class="token punctuation">\</span>Route</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">RouteArgumentsMetadata</span>
<span class="token punctuation">{</span>
    <span class="token doc-comment comment">/** <span class="token keyword">@var</span> <span class="token class-name">ControllerResolverInterface</span> */</span>
    <span class="token keyword">private</span> <span class="token variable">$controllerResolver</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/** <span class="token keyword">@var</span> <span class="token class-name">ArgumentMetadataFactoryInterface</span> */</span>
    <span class="token keyword">private</span> <span class="token variable">$argumentMetadataFactory</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span>
        <span class="token class-name type-declaration">ControllerResolverInterface</span> <span class="token variable">$controllerResolver</span><span class="token punctuation">,</span>
        <span class="token class-name type-declaration">ArgumentMetadataFactoryInterface</span> <span class="token variable">$argumentMetadataFactory</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token this keyword">$this</span><span class="token operator">-&gt;</span><span class="token property">controllerResolver</span> <span class="token operator">=</span> <span class="token variable">$controllerResolver</span><span class="token punctuation">;</span>
        <span class="token this keyword">$this</span><span class="token operator">-&gt;</span><span class="token property">argumentMetadataFactory</span> <span class="token operator">=</span> <span class="token variable">$argumentMetadataFactory</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/** <span class="token keyword">@return</span> <span class="token class-name">ArgumentMetadata<span class="token punctuation">[</span><span class="token punctuation">]</span></span> */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">getArgumentsMetadata</span><span class="token punctuation">(</span><span class="token class-name type-declaration">Route</span> <span class="token variable">$route</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">array</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$request</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'_controller'</span> <span class="token operator">=&gt;</span> <span class="token variable">$route</span><span class="token operator">-&gt;</span><span class="token function">getDefault</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'_controller'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$controller</span> <span class="token operator">=</span> <span class="token this keyword">$this</span><span class="token operator">-&gt;</span><span class="token property">controllerResolver</span><span class="token operator">-&gt;</span><span class="token function">getController</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token this keyword">$this</span><span class="token operator">-&gt;</span><span class="token property">argumentMetadataFactory</span><span class="token operator">-&gt;</span><span class="token function">createArgumentMetadata</span><span class="token punctuation">(</span><span class="token variable">$controller</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></code></pre>
<p>Résultat :</p>
<pre class="code-multiline"><code id="6a5e6dc7da17fc446ac285ca11de3910">array:2 [▼
  0 =&gt; ArgumentMetadata {#2146 ▼
    -name: "request"
    -type: "Symfony\Component\HttpFoundation\Request"
    -isVariadic: false
    -hasDefaultValue: false
    -defaultValue: null
    -isNullable: false
  }
  1 =&gt; ArgumentMetadata {#2151 ▼
    -name: "user"
    -type: "App\Domain\Model\User"
    -isVariadic: false
    -hasDefaultValue: false
    -defaultValue: null
    -isNullable: false
  }
]</code></pre>
<p>On a donc une variable <code class="code-inline" id="ee11cbb19052e40b07aac0ca060c23ee">user</code> dont le type est <code class="code-inline" id="eb0c10d335fd66810062ce2b4fadcd78">App\Domain\Model\User</code>.</p>
<p>Cela devient intéressant !</p>
<p>Voyons voir ce que l'on peut en faire...</p>
<h3 id="resolver-dedie" class="anchor-title"><a href="#resolver-dedie">Resolver dédié</a></h3>
<p>Nous allons coder un <em>Resolver</em> dédié pour un paramètre dès lors qu'il est de type <code class="code-inline" id="eb0c10d335fd66810062ce2b4fadcd78">App\Domain\Model\User</code>.</p>
<p>Ici on sait que notre classe <code class="code-inline" id="8f9bfe9d1345237cb3b2b205864da075">User</code> est une classe d'entité <em>Doctrine</em>. Nous allons faire appel à un <em>repository
Doctrine</em> pour récupèrer une liste des utilisateurs depuis la base de données. On prend soin de retourner le résultat
en précisant que la valeur du paramètre <code class="code-inline" id="ee11cbb19052e40b07aac0ca060c23ee">user</code> prend pour valeur l'id de l'utilisateur :</p>
<pre class="code-multiline language-php"><code class="language-php" id="f76a1bc1c35e5b9bd8c262780adb15b0"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">UserResolver</span> <span class="token keyword">implements</span> <span class="token class-name">ResolverInterface</span>
<span class="token punctuation">{</span>
    <span class="token doc-comment comment">/** ... */</span>

    <span class="token doc-comment comment">/** ResultView[] */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">resolve</span><span class="token punctuation">(</span><span class="token class-name type-declaration">ResultView</span> <span class="token variable">$parentResultView</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">array</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$enabledUsers</span> <span class="token operator">=</span> <span class="token this keyword">$this</span><span class="token operator">-&gt;</span><span class="token property">userRepository</span><span class="token operator">-&gt;</span><span class="token function">getEnabledUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$resultViews</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$enabledUsers</span> <span class="token keyword">as</span> <span class="token variable">$user</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$resultViews</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ResultView</span><span class="token punctuation">(</span>
                <span class="token variable">$parentResultView</span><span class="token operator">-&gt;</span><span class="token property">label</span> <span class="token operator">.</span> <span class="token string single-quoted-string">' '</span> <span class="token operator">.</span> <span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token function">getFullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token variable">$parentResultView</span><span class="token operator">-&gt;</span><span class="token property">routeName</span><span class="token punctuation">,</span>
                <span class="token this keyword">$this</span><span class="token operator">-&gt;</span><span class="token property">router</span><span class="token operator">-&gt;</span><span class="token function">generate</span><span class="token punctuation">(</span><span class="token variable">$parentResultView</span><span class="token operator">-&gt;</span><span class="token property">routeName</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'user'</span> <span class="token operator">=&gt;</span> <span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token punctuation">[</span><span class="token string single-quoted-string">'user'</span> <span class="token operator">=&gt;</span> <span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token variable">$resultViews</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></code></pre>
<p>On obtient ce résultat :</p>
<pre class="code-multiline"><code id="c2a9aa11a407e9729e239f0376c38241">array:2 [▼
  0 =&gt; ResultView { ▼
    +label: "User update Korben"
    +routeName: "admin_user_update"
    +url: "/user/update/42"
    +parameters: array:1 [▼
      "user" =&gt; 42
    ]
  }
  1 =&gt; ResultView { ▼
    +label: "User update Leeloo"
    +routeName: "admin_user_update"
    +url: "/user/update/1"
    +parameters: array:1 [▼
      "user" =&gt; 1
    ]
  }
  2 =&gt; ResultView { ▼
    +label: "User update Cornelius"
    +routeName: "admin_user_update"
    +url: "/user/update/1337"
    +parameters: array:1 [▼
      "user" =&gt; 1337
    ]
  }</code></pre>
<p>On peut donc maintenant proposer à l'utilisateur d'accéder à des <em>routes</em> ayant un paramètre.</p>
<h2 id="ameliorations" class="anchor-title"><a href="#ameliorations">Améliorations</a></h2>
<h3 id="resolver-doctrine" class="anchor-title"><a href="#resolver-doctrine">Resolver Doctrine ?</a></h3>
<p>Pourrait-on avoir un <em>resolver</em> générique dédié à nos classes d'entité <em>Doctrine</em> ?</p>
<p>L'idée est de tester si une classe donnée est une entité <em>Doctrine</em>, c'est à dire via le <code class="code-inline" id="f19eae7a9282542454f845b2c940fa9b">ManagerRegistry</code> chercher
un éventuel <code class="code-inline" id="08f9949041c5b2858bc754a5985db3f3">EntityManager</code>. Puis avec cet <code class="code-inline" id="08f9949041c5b2858bc754a5985db3f3">EntityManager</code>, utiliser le bon <code class="code-inline" id="33fcf2b3ec4686d9cd06051c726d0ba2">Repository</code>
et la méthode générique de tout <code class="code-inline" id="33fcf2b3ec4686d9cd06051c726d0ba2">Repository</code> <em>Doctrine</em>, <code class="code-inline" id="2bb788c45bd218371b07ca163ca14574">findAll()</code> :</p>
<pre class="code-multiline language-php"><code class="language-php" id="5b1276ee78059c9347462b49c4da2698"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">use</span> <span class="token package">Doctrine<span class="token punctuation">\</span>Common<span class="token punctuation">\</span>Persistence<span class="token punctuation">\</span>ManagerRegistry</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">DoctrineResolver</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token class-name type-declaration">ManagerRegistry</span> <span class="token variable">$managerRegistry</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">RouterInterface</span> <span class="token variable">$router</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token this keyword">$this</span><span class="token operator">-&gt;</span><span class="token property">managerRegistry</span> <span class="token operator">=</span> <span class="token variable">$managerRegistry</span><span class="token punctuation">;</span>
        <span class="token this keyword">$this</span><span class="token operator">-&gt;</span><span class="token property">router</span> <span class="token operator">=</span> <span class="token variable">$router</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">resolve</span><span class="token punctuation">(</span><span class="token class-name type-declaration">ResultView</span> <span class="token variable">$resultView</span><span class="token punctuation">,</span> <span class="token keyword type-hint">string</span> <span class="token variable">$paramName</span><span class="token punctuation">,</span> <span class="token keyword type-hint">string</span> <span class="token variable">$className</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">array</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$entityManager</span> <span class="token operator">=</span> <span class="token this keyword">$this</span><span class="token operator">-&gt;</span><span class="token property">managerRegistry</span><span class="token operator">-&gt;</span><span class="token function">getManagerForClass</span><span class="token punctuation">(</span><span class="token variable">$className</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">null</span> <span class="token operator">===</span> <span class="token variable">$entityManager</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token variable">$objects</span> <span class="token operator">=</span> <span class="token variable">$entityManager</span><span class="token operator">-&gt;</span><span class="token function">getRepository</span><span class="token punctuation">(</span><span class="token variable">$className</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$resultViews</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$objects</span> <span class="token keyword">as</span> <span class="token variable">$object</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$parameters</span> <span class="token operator">=</span> <span class="token variable">$resultView</span><span class="token operator">-&gt;</span><span class="token property">parameters</span><span class="token punctuation">;</span>
            <span class="token variable">$parameters</span><span class="token punctuation">[</span><span class="token variable">$paramName</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$object</span><span class="token operator">-&gt;</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token variable">$resultViews</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ResultView</span><span class="token punctuation">(</span>
                <span class="token function">sprintf</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'%s %s'</span><span class="token punctuation">,</span> <span class="token variable">$resultView</span><span class="token operator">-&gt;</span><span class="token property">label</span><span class="token punctuation">,</span> <span class="token variable">$object</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token variable">$resultView</span><span class="token operator">-&gt;</span><span class="token property">routeName</span><span class="token punctuation">,</span>
                <span class="token this keyword">$this</span><span class="token operator">-&gt;</span><span class="token property">router</span><span class="token operator">-&gt;</span><span class="token function">generate</span><span class="token punctuation">(</span><span class="token variable">$parentResultView</span><span class="token operator">-&gt;</span><span class="token property">routeName</span><span class="token punctuation">,</span> <span class="token variable">$parameters</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token variable">$parameters</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token variable">$resultViews</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></code></pre>
<p>Il faut aussi déclarer une méthode <code class="code-inline" id="a80f2647eb0e2ee6bca9c774ae942959">__toString</code> dans nos classes d'entité <em>Doctrine</em> :</p>
<pre class="code-multiline language-php"><code class="language-php" id="9378bea946a157b55eb2189e0d09f5ac"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">User</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">string</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token this keyword">$this</span><span class="token operator">-&gt;</span><span class="token function">getDisplayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></span></code></pre>
<p>Ceci afin que l'objet soit <em>transformé</em> en <em>string</em> lorsque le libellé de la <em>route</em> est créé ici :</p>
<pre class="code-multiline"><code id="2b156550079b24f01bf4e39b30500a8e">sprintf('%s %s', $resultView-&gt;label, $object),</code></pre>
<h3 id="traduction-des-noms-de-route" class="anchor-title"><a href="#traduction-des-noms-de-route">Traduction des noms de route</a></h3>
<p>On a vu plus haut, comment à partir du nom de la route, la transformer un peu pour l'humaniser.</p>
<p>Cependant les noms de <em>routes</em> dans une application sont généralement en anglais.
Comment faire lorsque l'application est disponible en plusieurs langues ? Par exemple pour la <em>route</em>
"admin_user_create", en anglais on aurait donc "User Create" et en français "Utilisateur Créer".</p>
<p>Oui, l'action est préfixée par le sujet et du coup la phrase est inversée (Yoda style !).
Si on avait dans notre application "Créer document", "Créer facture", "Créer produit"... lorsqu'on tapperait "Cré.."
on aurait droit à tous les "Créer..." de l'application. Nous avons donc choisi ici de préfixer les libellés par le sujet
de l'action. Quand on tappe "Produ..." on a par exemple "Produit Créer", "Produit Modifier", "Produit Déstocker"...</p>
<p>Prenons les noms des <em>routes</em> :</p>
<pre class="code-multiline language-yaml"><code class="language-yaml" id="db9fc4dea82fbe008ddf781adddf8be5"><span class="token comment"># Routing</span>
<span class="token key atrule">admin_user_list</span><span class="token punctuation">:</span>
    <span class="token key atrule">path</span><span class="token punctuation">:</span> /user/list/<span class="token punctuation">{</span>user<span class="token punctuation">}</span>

<span class="token key atrule">admin_user_create</span><span class="token punctuation">:</span>
    <span class="token key atrule">path</span><span class="token punctuation">:</span> /user/create/<span class="token punctuation">{</span>user<span class="token punctuation">}</span>

<span class="token key atrule">admin_user_update</span><span class="token punctuation">:</span>
    <span class="token key atrule">path</span><span class="token punctuation">:</span> /user/update/<span class="token punctuation">{</span>user<span class="token punctuation">}</span></code></pre>
<p>et déposons les dans des fichiers de traductions de Symfony (<em>translations</em>) :</p>
<pre class="code-multiline language-yaml"><code class="language-yaml" id="ac85c0958cdc25e33bacbd2fad3666b0"><span class="token comment"># humanized_routes.en.yml</span>
<span class="token key atrule">admin_user_list</span><span class="token punctuation">:</span> User List
<span class="token key atrule">admin_user_create</span><span class="token punctuation">:</span> User Create
<span class="token key atrule">admin_user_update</span><span class="token punctuation">:</span> User Update</code></pre>
<pre class="code-multiline language-yaml"><code class="language-yaml" id="c93c67543c213de84a47f4a2fa6de568"><span class="token comment"># humanized_routes.fr.yml</span>
<span class="token key atrule">admin_user_list</span><span class="token punctuation">:</span> Utilisateur Lister
<span class="token key atrule">admin_user_create</span><span class="token punctuation">:</span> Utilisateur Créer
<span class="token key atrule">admin_user_update</span><span class="token punctuation">:</span> Utilisateur Modifier</code></pre>
<p>Comment utiliser ces fichiers de traduction ?</p>
<p>Simplement, on regarde si on a la traduction pour un nom de <em>route</em> donné dans la <em>locale</em> de l'utilisateur de
l'application :</p>
<pre class="code-multiline language-php"><code class="language-php" id="e4becfe8faabde7dc0dda175ba8e02ba"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">use</span> <span class="token package">Symfony<span class="token punctuation">\</span>Component<span class="token punctuation">\</span>Translation<span class="token punctuation">\</span>TranslatorBagInterface</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Symfony<span class="token punctuation">\</span>Component<span class="token punctuation">\</span>Translation<span class="token punctuation">\</span>TranslatorInterface</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">TranslateRouteName</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span>
        <span class="token class-name type-declaration">TranslatorInterface</span> <span class="token variable">$translator</span><span class="token punctuation">,</span>
        <span class="token class-name type-declaration">TranslatorBagInterface</span> <span class="token variable">$translatorBag</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token this keyword">$this</span><span class="token operator">-&gt;</span><span class="token property">translator</span> <span class="token operator">=</span> <span class="token variable">$translator</span><span class="token punctuation">;</span>
        <span class="token this keyword">$this</span><span class="token operator">-&gt;</span><span class="token property">translatorBag</span> <span class="token operator">=</span> <span class="token variable">$translatorBag</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">handle</span><span class="token punctuation">(</span><span class="token keyword type-hint">string</span> <span class="token variable">$routeName</span><span class="token punctuation">,</span> <span class="token keyword type-hint">string</span> <span class="token variable">$locale</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">string</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$catalogue</span> <span class="token operator">=</span> <span class="token this keyword">$this</span><span class="token operator">-&gt;</span><span class="token property">translatorBag</span><span class="token operator">-&gt;</span><span class="token function">getCatalogue</span><span class="token punctuation">(</span><span class="token variable">$locale</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token variable">$catalogue</span><span class="token operator">-&gt;</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token variable">$routeName</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'humanized_routes'</span><span class="token punctuation">)</span>
            <span class="token operator">?</span> <span class="token this keyword">$this</span><span class="token operator">-&gt;</span><span class="token property">translator</span><span class="token operator">-&gt;</span><span class="token function">trans</span><span class="token punctuation">(</span><span class="token variable">$routeName</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'humanized_routes'</span><span class="token punctuation">,</span> <span class="token variable">$locale</span><span class="token punctuation">)</span>
            <span class="token punctuation">:</span> <span class="token this keyword">$this</span><span class="token operator">-&gt;</span><span class="token function">humanizeRouteName</span><span class="token punctuation">(</span><span class="token variable">$routeName</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function-definition function">humanizeRouteName</span><span class="token punctuation">(</span><span class="token keyword type-hint">string</span> <span class="token variable">$routeName</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">string</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">ucfirst</span><span class="token punctuation">(</span><span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'admin_'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'_'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">''</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">' '</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$routeName</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></code></pre>
<p><code class="code-inline" id="934b4269ed711c942628f71148c2bf0d">TranslatorInterface</code> et <code class="code-inline" id="daa5e5dc31192d01c6078114eaf3647c">TranslatorBagInterface</code> sont implémentés par le même service, donc dans notre déclaration de
service, on a :</p>
<pre class="code-multiline language-yaml"><code class="language-yaml" id="6399c7494f9731d64ca2b27bcbb9e227"><span class="token key atrule">App\ActionsBot\Resolver\TranslateRouteName</span><span class="token punctuation">:</span>
    <span class="token key atrule">arguments</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token string">'@translator'</span>
        <span class="token punctuation">-</span> <span class="token string">'@translator'</span></code></pre>
<h3 id="demo" class="anchor-title"><a href="#demo">Démo</a></h3>
<p class="text-center">
    <img src="/elao_/pr/655/%2E%2E/../resized/content/images/blog/2018/commander-au-clavier-app-symfony-grace-au-routing/demo2.gif/54d52d130841a408e85fcc2c730c929a.gif" alt="Démo avec paramètre" id="demo-avec-parametre">
</p>
<h2 id="bilan" class="anchor-title"><a href="#bilan">Bilan</a></h2>
<h3 id="resultat" class="anchor-title"><a href="#resultat">Résultat</a></h3>
<ul>
<li>Nouvelle UX / UI basée sur les <em>routes</em> de l'application.</li>
<li>Rapidité++ efficacité++.</li>
<li>On pourrait imaginer avoir des commandes personnalisées : afficher le chiffre d'affaire du mois, afficher le nombre
d'utilisateurs connectés, etc.</li>
</ul>
<h3 id="inconvenients" class="anchor-title"><a href="#inconvenients">Inconvénients</a></h3>
<ul>
<li>Il faut savoir quoi chercher.</li>
<li>Savoir comment chercher. On pourrait résoudre ce problème en indiquant sur chaque page, comment y accéder par une
recherche texte.</li>
<li>Inversion du langage : "Utilisateur Modifier" au lieu de "Modifier utilisateur". Pour améliorer, on pourrait proposer
une recherche en langage naturel.</li>
</ul>
<h2 id="commander-par-la-voix" class="anchor-title"><a href="#commander-par-la-voix">Commander par la voix ?</a></h2>
<p>Depuis quelques mois, nos ordinateurs et enceintes se sont dotés d'assistants vocaux plus ou moins
performants : Microsoft Cortana, Siri chez Apple, Amazon Alexa (Echo) ou Google Home.</p>
<p>Pourquoi ne pas piloter notre application web avec la voix ? Par exemple, en réunion on pourrait demander
"Quel est le Chiffre d'affaire du mois sur le produit T-SHIRT KORBEN DALLAS ?" et avoir une réponse en synthèse vocale.</p>
<p>Une API web est disponible : <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API" target="_blank">Web Speech API</a></p>
<p>Celle-ci comporte notamment les composants suivants :</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/SpeechSynthesis" target="_blank">Speech Synthesis</a> :
la synthèse vocale à partir d'un texte écrit</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/SpeechRecognition" target="_blank">Speech Recognition</a> :
la reconnaissance automatique de la parole</li>
</ul>
<pre class="code-multiline language-js"><code class="language-js" id="e406c5d9966bd66dea3f869601d8be63"><span class="token keyword">var</span> recognition <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SpeechRecognition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
recognition<span class="token punctuation">.</span><span class="token property-access">continuous</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
recognition<span class="token punctuation">.</span><span class="token property-access">lang</span> <span class="token operator">=</span> <span class="token string">'fr-FR'</span><span class="token punctuation">;</span>

recognition<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onresult</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> event<span class="token punctuation">.</span><span class="token property-access">resultIndex</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> event<span class="token punctuation">.</span><span class="token property-access">results</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> result <span class="token operator">=</span> event<span class="token punctuation">.</span><span class="token property-access">results</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token property-access">transcript</span> <span class="token operator">+</span> <span class="token string">': '</span> <span class="token operator">+</span> result<span class="token punctuation">.</span><span class="token property-access">confidence</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

recognition<span class="token punctuation">.</span><span class="token method function property-access">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Le support de l'API SpeechRecognition est très limité pour l'instant :</p>
<p class="text-center">
    <img src="/elao_/pr/655/%2E%2E/../resized/content/images/blog/2018/commander-au-clavier-app-symfony-grace-au-routing/caniuse-speech-recognition.png/38b53f2ea996a4aba8d6ec7bedadc050.png" alt="Can I Use SpeechRecognition" srcset="/elao_/pr/655/%2E%2E/../resized/content/images/blog/2018/commander-au-clavier-app-symfony-grace-au-routing/caniuse-speech-recognition.png/38b53f2ea996a4aba8d6ec7bedadc050.png 1x,
/elao_/pr/655/%2E%2E/../resized/content/images/blog/2018/commander-au-clavier-app-symfony-grace-au-routing/caniuse-speech-recognition.png/9b9a9cfaa5f29774f2da9181ae7f8e63.png 2x," id="can-i-use-speechrecognition">
</p>
<p><a href="https://www.google.com/intl/en/chrome/demos/speech.html" target="_blank">Démo ici</a> (à tester avec Chrome seulement au jour où cet article a été écrit).</p>
<p>C'est une technologie assez promoteuse. À suivre donc !</p>
<hr>
<p>Photo by Anthony Martino on Unsplash</p>
                                                                </main>
            <aside class="article-content__aside">
                            </aside>
        </div>

        <div class="article-footer" data-aos="fade-in">
                                                <div class="article-author">
                        <div class="article-author__image">
                            <a>
                                <img     src="/elao_/pr/655/%2E%2E/../resized/content/images/members/avatars/rhanna.jpg/48b4d8efbc2f597dab26fcb1ed88d540.jpg"
    srcset="
        /elao_/pr/655/%2E%2E/../resized/content/images/members/avatars/rhanna.jpg/48b4d8efbc2f597dab26fcb1ed88d540.jpg 1x,
        /elao_/pr/655/%2E%2E/../resized/content/images/members/avatars/rhanna.jpg/595ecfd31fcd439bed40e88acab04bb4.jpg 2x
    "
 />
                            </a>
                        </div>
                        <span class="article-author__info">
                            Écrit par
                            <a>
                                <strong>Richard Hanna</strong>
                            </a>
                        </span>

                        <div class="article-author__social">
                                                            <a href="https://twitter.com/richardhanna" class="social social--small">
                                    <i class="icon icon--x" aria-hidden="true"></i>
                                    <span class="screen-reader">Compte Twitter de Richard Hanna</span>
                                </a>
                                                                                        <a href="https://github.com/supertanuki " class="social social--small">
                                    <i class="icon icon--github" aria-hidden="true"></i>
                                    <span class="screen-reader">Compte github de Richard Hanna</span>
                                </a>
                                                                                        <a href="http://www.elao.com" class="social social--small">
                                    <i class="icon icon--website" aria-hidden="true"></i>
                                    <span class="screen-reader">Site personnel de Richard Hanna</span>
                                </a>
                                                    </div>
                    </div>
                                    </div>

                <div class="bricks">
            
                            <div class="brick-contribute">
                    <p>
                        Une typo ?
                        <a href="https://github.com/Elao/elao_/edit/refresh-v0/content/blog/dev/commander-au-clavier-app-symfony-grace-au-routing.md/" target="_blank" class="animated-link animated-link--light">
                            Modifier cet article sur Github
                        </a>
                    </p>
                </div>
                    </div>
            </div>
        </main>
                    
<footer class="footer">
    <div class="container">
        <section class="footer__links">
            <p class="h1">
                elao
                <span>développe</span>
                <span>du lien</span>
            </p>
            <div class="links">
                                    <ul>
                                                    <li>
                                <a href="/elao_/pr/655/nos-services/" >Services</a>
                            </li>
                                                    <li>
                                <a href="/elao_/pr/655/demarche" >Démarche</a>
                            </li>
                                                    <li>
                                <a href="/elao_/pr/655/etudes-de-cas" >Études de cas</a>
                            </li>
                                            </ul>
                                    <ul>
                                                    <li>
                                <a href="/elao_/pr/655/nos-valeurs" >Valeurs</a>
                            </li>
                                                    <li>
                                <a href="/elao_/pr/655/equipe" >L&#039;équipe</a>
                            </li>
                                                    <li>
                                <a href="/elao_/pr/655/blog" >Blog</a>
                            </li>
                                                    <li>
                                <a href="/elao_/pr/655/blog/rss.xml"  data-no-swup="data-no-swup">RSS</a>
                            </li>
                                            </ul>
                                <ul>
                    <li>
                                                <a href="/elao_/pr/655/recrutement">
                            Nous recrutons
                                                            <span class="bullet">1</span>
                                                    </a>
                    </li>
                    <li>
                        <a href="/elao_/pr/655/glossaire/">Glossaire 🧐</a>
                    </li>
                    <li>
                        <a href="/elao_/pr/655/elaomojis">Elaomojis 🎉</a>
                    </li>
                </ul>
            </div>
            <div class="socials">
                <ul>
                    <li>
                        <a href="https://www.linkedin.com/company/elao/" target="_blank">
                            <i class="icon icon--linkedin"></i>
                            Linkedin
                        </a>
                    </li>
                    <li>
                        <a href="https://bsky.app/profile/elao.com" target="_blank">
                            <i class="icon icon--bluesky"></i>
                            Bluesky
                        </a>
                    </li>
                    <li>
                        <a href="https://twitter.com/elao" target="_blank">
                            <i class="icon icon--x"></i>
                            X
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/elao" target="_blank">
                            <i class="icon icon--github"></i>
                            Github
                        </a>
                    </li>
                </ul>
            </div>
            <div class="contacts">
                <ul>
                    <li>
                        <a href="/elao_/pr/655/contact">Contact</a>
                    </li>
                    <li>
                        <a href="tel:04 82 53 37 19">04 82 53 37 19</a>
                    </li>
                    <li>
                        <a href="mailto:contact@elao.com">contact@elao.com</a>
                    </li>
                    <li>34 rue Jean Broquin</li>
                    <li>69006 Lyon</li>
                </ul>
            </div>
        </section>

        <section class="footer__legals">
            <span>© 2005 - 2025 - ELAO - Tous droits réservés</span>
            <a href="/elao_/pr/655/legal">Mentions légales</a>
            <a href="/elao_/pr/655/confidentialite">Protection des données</a>
            <a id="see" href="#ssss">🐍</a>
        </section>
    </div>
</footer>

            </body>
</html>
