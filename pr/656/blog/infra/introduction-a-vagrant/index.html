<!DOCTYPE html>
<html lang="fr" class="no-js">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Introduction à Vagrant</title>

        <!-- Favicon -->
        <link rel="apple-touch-icon" sizes="180x180" href="/elao_/pr/656/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/elao_/pr/656/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/elao_/pr/656/favicon-16x16.png">
        <link rel="manifest" href="/elao_/pr/656/site.webmanifest">
        <link rel="mask-icon" href="/elao_/pr/656/safari-pinned-tab.svg" color="#ff4344">
        <link rel="shortcut icon" href="/elao_/pr/656/favicon.ico">
        <meta name="msapplication-TileColor" content="#ff4344">
        <meta name="msapplication-config" content="/elao_/pr/656/browserconfig.xml">
        <meta name="theme-color" content="#ffffff">

                    <meta name="description" content="Le fonctionnement et les principes utilisés par Vagrant. Comment installer une VM contenant une version minimale d&#039;Ubuntu et la provisionner avec nginx." />
            <link rel="canonical" href="https://elao.github.io/elao_/pr/656/blog/infra/introduction-a-vagrant" />

            <!-- Open Graph / Facebook -->
            <meta property="og:title" content="Introduction à Vagrant" />
            <meta property="og:locale" content="fr" />
            <meta property="og:description" content="Le fonctionnement et les principes utilisés par Vagrant. Comment installer une VM contenant une version minimale d&#039;Ubuntu et la provisionner avec nginx." />
            <meta property="og:url" content="https://elao.github.io/elao_/pr/656/blog/infra/introduction-a-vagrant" />
            <meta property="og:site_name" content="elao_" />

                                        <meta property="og:image" content="https://elao.github.io/elao_/pr/656/%2E%2E/../resized/content/images/blog/thumbnails/vagrant.png/e8ea680decf81c3ccf5bb0b335247aff.png">
            
            <!-- Twitter -->
            <meta property="twitter:card" content="summary_large_image">
            <meta property="twitter:title" content="Introduction à Vagrant">
            <meta property="twitter:description" content="Le fonctionnement et les principes utilisés par Vagrant. Comment installer une VM contenant une version minimale d&#039;Ubuntu et la provisionner avec nginx.">
            <meta property="twitter:site" content="@elao">
            <meta property="twitter:creator" content="@elao">
                                        <meta property="twitter:image" content="https://elao.github.io/elao_/pr/656/%2E%2E/../resized/content/images/blog/thumbnails/vagrant.png/132e0fdc7370fe435b5221b60a30ad1e.png">
                            <link rel="alternate" type="application/rss+xml" href="/elao_/pr/656/blog/rss.xml" title="Le blog de l'équipe d'Elao" />
        
                <script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "NewsArticle",
    "headline": "Introduction à Vagrant",
    "image": [
        "https://elao.github.io/elao_/pr/656/blog/infra/content/images/blog/thumbnails/vagrant.png"
    ],
    "datePublished": "2017-04-23T00:00:00+00:00",
    "dateModified": "2017-04-23T00:00:00+00:00",
    "author": [
        {
            "@type": "Person",
            "name": "Maximilien Bernard",
            "url": "https://elao.github.io/elao_/pr/656/equipe"
        }
    ],
    "keywords": [
        "Vagrant",
        "Virtualisation"
    ]
}
    </script>
    
                            <meta name="robots" content="noindex" />
        
        <script>
                        document.querySelector('html').classList.remove('no-js');
        </script>

                    <link rel="stylesheet" href="/elao_/pr/656/build/app.31dae90e.css">
        
                        <script src="/elao_/pr/656/build/runtime.e8b5b15b.js" defer></script><script src="/elao_/pr/656/build/552.3082ae9c.js" defer></script><script src="/elao_/pr/656/build/769.7dfbbe52.js" defer></script><script src="/elao_/pr/656/build/app.d906f729.js" defer></script>

                    

    <script src="https://platform.twitter.com/widgets.js"></script>
    <script async defer src="//platform.instagram.com/en_US/embeds.js"></script>

    <script>
        window.onload = (function(){
            var tweets = document.querySelectorAll('.tweet-container');
            tweets.forEach(function(tweet) {
                // https://developer.twitter.com/en/docs/twitter-for-websites/embedded-tweets/guides/embedded-tweet-parameter-reference
                twttr.widgets.createTweet(tweet.getAttribute('data-tweet-id'), tweet, {
                    conversation: 'none',
                    cards: 'hidden',
                    theme: 'light',
                    lang: 'fr',
                    align: 'center',
                    width: 550, // default
                    dnt: true,
                })
            })
        });
    </script>

        <!-- S.E.E. -->
        <meta name="see" content="&#x5B;&quot;&#x5C;&#x2F;elao_&#x5C;&#x2F;pr&#x5C;&#x2F;656&#x5C;&#x2F;build&#x5C;&#x2F;see.ace7bf9f.js&quot;&#x5D;">
        <meta name="see_style" content="&#x5B;&quot;&#x5C;&#x2F;elao_&#x5C;&#x2F;pr&#x5C;&#x2F;656&#x5C;&#x2F;build&#x5C;&#x2F;see.d77e78f8.css&quot;&#x5D;">
    </head>
    <body
        data-controller="swup-plugins symfony--ux-swup--swup swup-matomo" data-symfony--ux-swup--swup-containers-value="&#x5B;&quot;&#x23;main&quot;,&quot;&#x23;nav&quot;&#x5D;" data-symfony--ux-swup--swup-cache-value="true" data-symfony--ux-swup--swup-animate-history-browsing-value="true" data-symfony--ux-swup--swup-debug-value="false" data-symfony--ux-swup--swup-link-selector-value="a&#x5B;href&#x5E;&#x3D;&quot;https&#x3A;&#x2F;&#x2F;elao.github.io&#x2F;elao_&#x2F;pr&#x2F;656&quot;&#x5D;&#x3A;not&#x28;&#x5B;data-no-swup&#x5D;&#x29;&#x3A;not&#x28;&#x5B;target&#x3D;&quot;_blank&quot;&#x5D;&#x29;&#x3A;not&#x28;a&#x5B;href&#x5E;&#x3D;&quot;https&#x3A;&#x2F;&#x2F;elao.github.io&#x2F;elao_&#x2F;pr&#x2F;656&#x2F;_profiler&quot;&#x5D;&#x29;,a&#x5B;href&#x5E;&#x3D;&quot;&#x2F;&quot;&#x5D;&#x3A;not&#x28;&#x5B;data-no-swup&#x5D;&#x29;&#x3A;not&#x28;&#x5B;target&#x3D;&quot;_blank&quot;&#x5D;&#x29;&#x3A;not&#x28;a&#x5B;href&#x5E;&#x3D;&quot;https&#x3A;&#x2F;&#x2F;elao.github.io&#x2F;elao_&#x2F;pr&#x2F;656&#x2F;_profiler&quot;&#x5D;&#x29;" data-swup-matomo-enabled-value="false">
                    <header id="nav" class="header">
                <div class="container">
                    <!--
                        Todo :
                        - only on homepage : on scroll .logo.logo--animated becomes .logo.logo--animated.logo--active (triggers its animation)
                     -->
                    <a href="/elao_/pr/656/">
                        <span class="screen-reader">Introduction à Vagrant</span>
                                                    <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 300 100" class="logo logo--animated">
                                <path d="M61.6,61.6H19.7C21,69,24.8,72.2,32.6,72.2c5.9,0,8.8-1.9,11.7-7.8l16.1,6.9C56.2,82,46.9,87.8,32.1,87.8
                                    c-19.1,0-32-12.6-32-31.6c0-19.5,12.6-32.6,31.4-32.6c18.1,0,30.3,12.6,30.3,31.6C61.7,57.2,61.7,58.9,61.6,61.6z M19.6,49.3h23.6
                                    c-0.2-7.9-4.1-10.9-11.3-10.9S20.7,41.8,19.6,49.3z"/>
                                <path d="M71.2,0.1H90v86.5H71.2V0.1z"/>
                                <path d="M166.1,24.7v61.8h-18.8V72.7c-3.5,9.8-10.5,15.1-20.4,15.1c-17.7,0-27.4-12.9-27.4-32
                                    c0-19.4,9.3-32.2,26.2-32.2c10.5,0,18,5.4,21.6,15.6V24.7H166.1z M147.9,55.7c0-10.4-4.8-15.2-15.1-15.2c-9.9,0-14.6,4.8-14.6,15.2
                                    c0,10.1,4.7,14.9,14.6,14.9C143.1,70.7,147.9,65.9,147.9,55.7L147.9,55.7z"/>
                                <path d="M242.8,55.8c0,19.9-15.3,32-33.6,32s-33.6-12.1-33.6-32s15.3-32.2,33.6-32.2S242.8,35.8,242.8,55.8z M224,55.8
                                    c0-10.4-4.7-15.2-14.8-15.2c-10.1,0-14.8,4.8-14.8,15.2c0,10.1,4.7,14.9,14.8,14.9S224,65.9,224,55.8L224,55.8z"/>
                                <rect x="243.1" y="86.5" width="56.7" height="15"/>
                            </svg>
                                            </a>

                                            <!-- Desktop nav -->
                        <nav class="nav">
                            <ul>
                                                                    <li class="nav__item ">
                                        <a href="/elao_/pr/656/nos-services/">
                                                                                        <span>Services</span>
                                        </a>
                                    </li>
                                                                    <li class="nav__item ">
                                        <a href="/elao_/pr/656/demarche">
                                                                                        <span>Démarche</span>
                                        </a>
                                    </li>
                                                                    <li class="nav__item ">
                                        <a href="/elao_/pr/656/etudes-de-cas">
                                                                                        <span>Études de cas</span>
                                        </a>
                                    </li>
                                                                    <li class="nav__item ">
                                        <a href="/elao_/pr/656/nos-valeurs">
                                                                                        <span>Valeurs</span>
                                        </a>
                                    </li>
                                                                    <li class="nav__item ">
                                        <a href="/elao_/pr/656/equipe">
                                                                                        <span>L&#039;équipe</span>
                                        </a>
                                    </li>
                                                                    <li class="nav__item nav__item--active">
                                        <a href="/elao_/pr/656/blog">
                                                                                        <span>Blog</span>
                                        </a>
                                    </li>
                                                                    <li class="nav__item ">
                                        <a href="/elao_/pr/656/contact">
                                                                                            <i class="icon icon--contact" aria-hidden="true"></i>
                                                                                        <span>Contact</span>
                                        </a>
                                    </li>
                                                            </ul>
                        </nav>
                    
                                            <!-- Mobile nav -->
                        <nav class="nav-mobile" data-controller="toggle">
                            <div class="nav-mobile__header">
                                <a href="/elao_/pr/656/">
                                                                <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 300 100" class="logo logo--animated">
                                <path d="M61.6,61.6H19.7C21,69,24.8,72.2,32.6,72.2c5.9,0,8.8-1.9,11.7-7.8l16.1,6.9C56.2,82,46.9,87.8,32.1,87.8
                                    c-19.1,0-32-12.6-32-31.6c0-19.5,12.6-32.6,31.4-32.6c18.1,0,30.3,12.6,30.3,31.6C61.7,57.2,61.7,58.9,61.6,61.6z M19.6,49.3h23.6
                                    c-0.2-7.9-4.1-10.9-11.3-10.9S20.7,41.8,19.6,49.3z"/>
                                <path d="M71.2,0.1H90v86.5H71.2V0.1z"/>
                                <path d="M166.1,24.7v61.8h-18.8V72.7c-3.5,9.8-10.5,15.1-20.4,15.1c-17.7,0-27.4-12.9-27.4-32
                                    c0-19.4,9.3-32.2,26.2-32.2c10.5,0,18,5.4,21.6,15.6V24.7H166.1z M147.9,55.7c0-10.4-4.8-15.2-15.1-15.2c-9.9,0-14.6,4.8-14.6,15.2
                                    c0,10.1,4.7,14.9,14.6,14.9C143.1,70.7,147.9,65.9,147.9,55.7L147.9,55.7z"/>
                                <path d="M242.8,55.8c0,19.9-15.3,32-33.6,32s-33.6-12.1-33.6-32s15.3-32.2,33.6-32.2S242.8,35.8,242.8,55.8z M224,55.8
                                    c0-10.4-4.7-15.2-14.8-15.2c-10.1,0-14.8,4.8-14.8,15.2c0,10.1,4.7,14.9,14.8,14.9S224,65.9,224,55.8L224,55.8z"/>
                                <rect x="243.1" y="86.5" width="56.7" height="15"/>
                            </svg>
                        
                                </a>
                                <button class="nav-toggle nav-toggle--close">
                                    <i class="icon icon--close" aria-hidden="true"></i>
                                    <span class="screen-reader">Fermer le menu</span>
                                </button>
                            </div>
                            <ul>
                                                                    <li class="nav-mobile__item  ">
                                        <a href="/elao_/pr/656/nos-services/">
                                                                                        <span>Services</span>
                                        </a>
                                    </li>
                                                                    <li class="nav-mobile__item  ">
                                        <a href="/elao_/pr/656/demarche">
                                                                                        <span>Démarche</span>
                                        </a>
                                    </li>
                                                                    <li class="nav-mobile__item  ">
                                        <a href="/elao_/pr/656/etudes-de-cas">
                                                                                        <span>Études de cas</span>
                                        </a>
                                    </li>
                                                                    <li class="nav-mobile__item  ">
                                        <a href="/elao_/pr/656/nos-valeurs">
                                                                                        <span>Valeurs</span>
                                        </a>
                                    </li>
                                                                    <li class="nav-mobile__item  ">
                                        <a href="/elao_/pr/656/equipe">
                                                                                        <span>L&#039;équipe</span>
                                        </a>
                                    </li>
                                                                    <li class="nav-mobile__item nav-mobile__item--active ">
                                        <a href="/elao_/pr/656/blog">
                                                                                        <span>Blog</span>
                                        </a>
                                    </li>
                                                                    <li class="nav-mobile__item  nav-mobile__item--large">
                                        <a href="/elao_/pr/656/contact">
                                                                                            <i class="icon icon--contact" aria-hidden="true"></i>
                                                                                        <span>Contact</span>
                                        </a>
                                    </li>
                                                            </ul>
                        </nav>
                        <button class="nav-toggle nav-toggle--open">
                            <i class="icon icon--hamburger" aria-hidden="true"></i>
                            <span class="screen-reader">Ouvrir le menu</span>
                        </button>
                                    </div>
            </header>
                <main id="main">
                <div class="container">
                                <ol class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
            <li class="breadcrumb__item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
            <a itemprop="item" href="/elao_/pr/656/">
                <span itemprop="name">Accueil</span>
            </a>
            <meta itemprop="position" content="1" />
        </li>        <li class="breadcrumb__item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
            <a itemprop="item" href="/elao_/pr/656/blog">
                <span itemprop="name">Blog</span>
            </a>
            <meta itemprop="position" content="2" />
        </li>        <li class="breadcrumb__item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
            <a itemprop="item" href="/elao_/pr/656/blog/infra">
                <span itemprop="name">Infra</span>
            </a>
            <meta itemprop="position" content="3" />
        </li>        <li class="breadcrumb__item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
            <a itemprop="item" href="#">
                <span itemprop="name">Introduction à Vagrant</span>
            </a>
            <meta itemprop="position" content="4" />
        </li></ol>

        
        <div class="article-banner">
            <div
                class="article-banner__cover"
                style="background: #f1f1f1 url('/elao_/pr/656/%2E%2E/../resized/content/images/blog/headers/vagrant.png/a6a7c28b1a094bdc10ee82a9dccbb7b5.png');
    background: #f1f1f1 -webkit-image-set(
        url('/elao_/pr/656/%2E%2E/../resized/content/images/blog/headers/vagrant.png/a6a7c28b1a094bdc10ee82a9dccbb7b5.png') 1x,
        url('/elao_/pr/656/%2E%2E/../resized/content/images/blog/headers/vagrant.png/da2e114dc08bed286ad2e564a87c3ea0.png') 2x
    );
    background: #f1f1f1 -moz-image-set(
        url('/elao_/pr/656/%2E%2E/../resized/content/images/blog/headers/vagrant.png/a6a7c28b1a094bdc10ee82a9dccbb7b5.png') 1x,
        url('/elao_/pr/656/%2E%2E/../resized/content/images/blog/headers/vagrant.png/da2e114dc08bed286ad2e564a87c3ea0.png') 2x
    );
    background: #f1f1f1 -ms-image-set(
        url('/elao_/pr/656/%2E%2E/../resized/content/images/blog/headers/vagrant.png/a6a7c28b1a094bdc10ee82a9dccbb7b5.png') 1x,
        url('/elao_/pr/656/%2E%2E/../resized/content/images/blog/headers/vagrant.png/da2e114dc08bed286ad2e564a87c3ea0.png') 2x
    );
    background: #f1f1f1 image-set(
        url('/elao_/pr/656/%2E%2E/../resized/content/images/blog/headers/vagrant.png/a6a7c28b1a094bdc10ee82a9dccbb7b5.png') 1x,
        url('/elao_/pr/656/%2E%2E/../resized/content/images/blog/headers/vagrant.png/da2e114dc08bed286ad2e564a87c3ea0.png') 2x
    );"
                data-aos="fade-down"
            ></div>

            <div class="article-info" data-aos="zoom-in">
                                                    <div class="article-author ">
                        <div class="article-author__image">
                                                            <a>
                                    <img     src="/elao_/pr/656/%2E%2E/../resized/content/images/members/avatars/mbernard.jpg/1bb3d77a218a9b3d5e1ddf3e25053258.jpg"
    srcset="
        /elao_/pr/656/%2E%2E/../resized/content/images/members/avatars/mbernard.jpg/1bb3d77a218a9b3d5e1ddf3e25053258.jpg 1x,
        /elao_/pr/656/%2E%2E/../resized/content/images/members/avatars/mbernard.jpg/f84385a5574e44e9b7b687c70a3afec6.jpg 2x
    "
 />
                                </a>
                                                    </div>
                        <span class="article-author__info">
                            Écrit par
                                                            <a href="/elao_/pr/656/blog/auteur/mbernard">
                                    <strong>Maximilien Bernard</strong>
                                </a>
                                                    </span>
                    </div>
                                <div class="article-info__date">
                    <span>Publication <strong>23 avril 2017</strong></span>
                                                        </div>
            </div>

            <div class="article-header" data-aos="zoom-in-up">
                <h1>Introduction à Vagrant</h1>
                <p>Le fonctionnement et les principes utilisés par Vagrant. Comment installer une VM contenant une version minimale d&#039;Ubuntu et la provisionner avec nginx.</p>
                <ul class="article-tag-list">
                                            <li class="article-tag-list__item">
                            <a href="/elao_/pr/656/blog/tag/vagrant" rel="nofollow">#Vagrant</a>
                        </li>
                                            <li class="article-tag-list__item">
                            <a href="/elao_/pr/656/blog/tag/virtualisation" rel="nofollow">#Virtualisation</a>
                        </li>
                                    </ul>
            </div>
        </div>

        
        <div class="article-content">
            <main class="article-content__main">

                
                
                <p>Vagrant est un outil qui simplifie la création et la gestion d’environnements virtualisés.
Si par le passé on avait recours à des plateformes comme LAMP/MAMP/XAMP pour gérer son environnement de développement, <!-- more --> cela posait souvent problème car les versions des dépendances logicielles pouvaient varier une fois l’application déployée sur un environnement externe, notamment en production. On se retrouvait alors à perdre un temps considérable pour corriger des bugs en production qui n’étaient pas reproductibles en développement, et inversement.</p>
<p>Vagrant permet de travailler dans un environnement reproductible avec les mêmes versions pour toutes vos dépendances. Parce qu’il utilise le principe de virtualisation, il est donc compatible avec la majorité des OS actuels. Ainsi, un développeur travaillant sous Mac aura accès au même environnement qu'un développeur sous Windows ou Linux tout en conservant son IDE favori.</p>
<h1 id="comment-ca-fonctionne" class="anchor-title"><a href="#comment-ca-fonctionne">Comment ça fonctionne ?</a></h1>
<p>Vagrant est en réalité une surcouche autour de solutions de virtualisation comme Virtualbox ou VMware. Il exécute une série d'instructions spécifiées dans un fichier de configuration (le Vagrantfile) pour créer et configurer une ou plusieurs machines virtuelles.</p>
<blockquote>
<p>A noter que Vagrant n’est pas un outil de provisioning, il ne chargera pas directement vos dépendances logicielles dans la VM. La solution de base consiste à lui fournir un script shell contenant les instructions nécessaires au provisionnement. Par la suite, il sera intéressant de l'associer à une solution comme Ansible, Puppet ou Chef qui se chargera d'automatiser ce processus. Voir l'article <a href="/fr/infra/introduction-au-provisioning/">introduction au provisioning</a></p>
</blockquote>
<h1 id="les-concepts-sur-lesquels-repose-vagrant" class="anchor-title"><a href="#les-concepts-sur-lesquels-repose-vagrant">Les concepts sur lesquels repose Vagrant</a></h1>
<p><strong>Le Vagrantfile</strong></p>
<p>Le fichier de configuration principal de Vagrant. Ecrit en ruby, il sert à définir le dossier racine du projet qui sera utilisé par les options de configuration de Vagrant. C'est ausssi dans ce fichier que l'on définira le type de machine (la box) souhaité, la configuration réseau, le provider, la méthode de provisionnement ainsi que d'éventuels plugins.</p>
<p><strong>Les boxes</strong></p>
<p>Vagrant utilise des boites prêtes à l’emploi pour accélérer la construction de son environnement virtuel. Le principe est similaire aux images sous <a href="https://www.docker.com/" target="_blank">Docker</a>. Une vagrant box peut contenir une simple installation d'Ubuntu, mais elle peut aussi embarquer d'autres applications pré-installées. Si vous utilisez régulièrement les mêmes briques applicatives pour vos projets, il peut être intéressant de les compiler dans une box que vous pourrez réutiliser par la suite.</p>
<p>Vous trouverez une liste de boxs sur <a href="https://atlas.hashicorp.com/boxes/search" target="_blank">Atlas</a> le catalogue de boxs officiel de Vagrant. A titre d'exemple, voici <a href="https://atlas.hashicorp.com/manala/boxes/app-dev-debian" target="_blank">la box standard</a> que nous utilisons chez Elao pour initier nos projets.</p>
<p><strong>Le Provider</strong></p>
<p>Comme vu plus haut, Vagrant ne virtualise pas directement les environnements mais fait appel à un provider pour accomplir cette tache.
Vagrant utilise <a href="https://www.virtualbox.org/" target="_blank">Virtualbox</a> par défaut, mais rien n’empêche d’en utiliser un autre comme VMWare, AWS ou Hyper V.</p>
<h1 id="en-pratique" class="anchor-title"><a href="#en-pratique">En pratique</a></h1>
<p>Nous allons maintenant installer une VM contenant une version minimale d'Ubuntu et la provisionner avec nginx à l'aide d'un script bash. Après avoir installé Vagrant sur votre machine, créez un nouveau dossier que nous appellerons <code class="code-inline" id="b6c2a257bfab6380ca9b3cb94b12cb25">demo/</code>. Créez ensuite un nouveau fichier Vagrantfile avec le contenu suivant.</p>
<pre class="code-multiline"><code id="8e3f694d53df44b4765c9a380eb28542">Vagrant.configure("2") do |config|

  # Vm
  config.vm.box = "hashicorp/precise32"
  config.vm.synced_folder ".", "/vagrant"

  # Provision
  config.vm.provision :shell, path: "bootstrap.sh"

  # Network
  config.vm.network "forwarded_port", guest: 80, host: 8080, id: "nginx"

end</code></pre>
<p>On peut voir que la box utilisée est <strong>hashicorp/precise32</strong> et que le dossier partagé (sur la VM) avec la racine du projet (sur votre machine locale) se nomme <strong>vagrant</strong>. La ligne suivante spécifie la méthode de provisionnement (un script shell). La dernière ligne de configuration sert à forwarder le port 80 de la VM vers le port 8080 de votre machine locale, ce qui permettra d'avoir accès au serveur nginx depuis votre navigateur.</p>
<p>Notre script <strong>bootstrap.sh</strong> contiendra les lignes suivantes:</p>
<pre class="code-multiline"><code id="fed1e788d04d7dc96a63c00d6e53a5f5">sudo apt-get -y update
sudo apt-get -y install nginx
sudo service nginx start</code></pre>
<p>Il est temps de lancer cette commande dans votre terminal et laisser la magie opérer. Lors de cette phase,
Vagrant va installer votre VM, la provisionner à l'aide du script et configurer le port forwarding.</p>
<pre class="code-multiline"><code id="34e05760adec124bdbf614a6c496e863">vagrant up</code></pre>
<p>Si tout s'est bien passé, nous pouvons maintenant nous connecter en ssh sur notre VM</p>
<pre class="code-multiline"><code id="198135fc83653d13345f16358ba83b5d">vagrant ssh</code></pre>
<p>et ainsi voir le prompt suivant.</p>
<pre class="code-multiline"><code id="0ca64d74ec544357b0936c176bd902c9">Welcome to Ubuntu 12.04 LTS (GNU/Linux 3.2.0-23-generic-pae i686)

 * Documentation:  https://help.ubuntu.com/
New release '14.04.5 LTS' available.
Run 'do-release-upgrade' to upgrade to it.

Welcome to your Vagrant-built virtual machine.
Last login: Wed Apr 19 08:52:49 2017 from 10.0.2.2
vagrant@precise32:~$</code></pre>
<p>Pour terminer, entrez l'addresse <em><a href="http://localhost:8080/" target="_blank">http://localhost:8080/</a></em> dans votre navigateur, vous devriez voir la page d'accueil de nginx, indiquant que vous avez bien accès au serveur web de votre VM.</p>
<h1 id="conclusion" class="anchor-title"><a href="#conclusion">Conclusion</a></h1>
<p>En résumé, Vagrant est une solution fiable pour instancier rapidement un environnement de développement et le partager entre développeurs. L'exemple que nous avons vu reste simple, mais il est possible de faire bien des choses avec Vagrant, comme du provisioning à l'aide d'<strong>Ansible</strong> (ce que nous utilisons chez Elao) ou de la configuration réseau plus poussée en passant par un réseau privé et un serveur DNS comme <strong>landrush</strong>.</p>
<p>Si les sujets de l'automatisastion et de la virtualisation vous intéressent, je vous invite à aller faire un tour sur le projet <a href="http://www.manala.io/" target="_blank">Manala</a>, la boite à outils pour Ansible maintenue par Elao.</p>
<p>N'hésitez pas à poster vos questions ou remarques dans la section commentaires.</p>
<p>sources:
<a href="https://www.vagrantup.com/docs/" target="_blank">https://www.vagrantup.com/docs/</a>
<a href="http://blog.scottlowe.org/2014/09/12/a-quick-introduction-to-vagrant/" target="_blank">http://blog.scottlowe.org/2014/09/12/a-quick-introduction-to-vagrant/</a></p>
                                                                </main>
            <aside class="article-content__aside">
                            </aside>
        </div>

        <div class="article-footer" data-aos="fade-in">
                                                <div class="article-author">
                        <div class="article-author__image">
                            <a>
                                <img     src="/elao_/pr/656/%2E%2E/../resized/content/images/members/avatars/mbernard.jpg/1bb3d77a218a9b3d5e1ddf3e25053258.jpg"
    srcset="
        /elao_/pr/656/%2E%2E/../resized/content/images/members/avatars/mbernard.jpg/1bb3d77a218a9b3d5e1ddf3e25053258.jpg 1x,
        /elao_/pr/656/%2E%2E/../resized/content/images/members/avatars/mbernard.jpg/f84385a5574e44e9b7b687c70a3afec6.jpg 2x
    "
 />
                            </a>
                        </div>
                        <span class="article-author__info">
                            Écrit par
                            <a>
                                <strong>Maximilien Bernard</strong>
                            </a>
                        </span>

                        <div class="article-author__social">
                                                            <a href="https://twitter.com/mb3rnard" class="social social--small">
                                    <i class="icon icon--x" aria-hidden="true"></i>
                                    <span class="screen-reader">Compte Twitter de Maximilien Bernard</span>
                                </a>
                                                                                        <a href="https://github.com/mb3rnard " class="social social--small">
                                    <i class="icon icon--github" aria-hidden="true"></i>
                                    <span class="screen-reader">Compte github de Maximilien Bernard</span>
                                </a>
                                                                                </div>
                    </div>
                                    </div>

                <div class="bricks">
            
                            <div class="brick-contribute">
                    <p>
                        Une typo ?
                        <a href="https://github.com/Elao/elao_/edit/blog/alternant-ep-4/content/blog/infra/introduction-a-vagrant.md/" target="_blank" class="animated-link animated-link--light">
                            Modifier cet article sur Github
                        </a>
                    </p>
                </div>
                    </div>
            </div>
        </main>
                    
<footer class="footer">
    <div class="container">
        <section class="footer__links">
            <p class="h1">
                elao
                <span>développe</span>
                <span>du lien</span>
            </p>
            <div class="links">
                                    <ul>
                                                    <li>
                                <a href="/elao_/pr/656/nos-services/" >Services</a>
                            </li>
                                                    <li>
                                <a href="/elao_/pr/656/demarche" >Démarche</a>
                            </li>
                                                    <li>
                                <a href="/elao_/pr/656/etudes-de-cas" >Études de cas</a>
                            </li>
                                            </ul>
                                    <ul>
                                                    <li>
                                <a href="/elao_/pr/656/nos-valeurs" >Valeurs</a>
                            </li>
                                                    <li>
                                <a href="/elao_/pr/656/equipe" >L&#039;équipe</a>
                            </li>
                                                    <li>
                                <a href="/elao_/pr/656/blog" >Blog</a>
                            </li>
                                                    <li>
                                <a href="/elao_/pr/656/blog/rss.xml"  data-no-swup="data-no-swup">RSS</a>
                            </li>
                                            </ul>
                                <ul>
                    <li>
                                                <a href="/elao_/pr/656/recrutement">
                            Nous recrutons
                                                            <span class="bullet">1</span>
                                                    </a>
                    </li>
                    <li>
                        <a href="/elao_/pr/656/glossaire/">Glossaire 🧐</a>
                    </li>
                    <li>
                        <a href="/elao_/pr/656/elaomojis">Elaomojis 🎉</a>
                    </li>
                </ul>
            </div>
            <div class="socials">
                <ul>
                    <li>
                        <a href="https://www.linkedin.com/company/elao/" target="_blank">
                            <i class="icon icon--linkedin"></i>
                            Linkedin
                        </a>
                    </li>
                    <li>
                        <a href="https://bsky.app/profile/elao.com" target="_blank">
                            <i class="icon icon--bluesky"></i>
                            Bluesky
                        </a>
                    </li>
                    <li>
                        <a href="https://twitter.com/elao" target="_blank">
                            <i class="icon icon--x"></i>
                            X
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/elao" target="_blank">
                            <i class="icon icon--github"></i>
                            Github
                        </a>
                    </li>
                </ul>
            </div>
            <div class="contacts">
                <ul>
                    <li>
                        <a href="/elao_/pr/656/contact">Contact</a>
                    </li>
                    <li>
                        <a href="tel:04 82 53 37 19">04 82 53 37 19</a>
                    </li>
                    <li>
                        <a href="mailto:contact@elao.com">contact@elao.com</a>
                    </li>
                    <li>34 rue Jean Broquin</li>
                    <li>69006 Lyon</li>
                </ul>
            </div>
        </section>

        <section class="footer__legals">
            <span>© 2005 - 2025 - ELAO - Tous droits réservés</span>
            <a href="/elao_/pr/656/legal">Mentions légales</a>
            <a href="/elao_/pr/656/confidentialite">Protection des données</a>
            <a id="see" href="#ssss">🐍</a>
        </section>
    </div>
</footer>

            </body>
</html>
